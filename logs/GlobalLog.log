29/05/23 22:35:48 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
29/05/23 22:35:48 :: // Appel de la method handleLogin de loginController // 
29/05/23 22:35:48 :: // Appel de la method QUERY de database.service. // 
29/05/23 22:35:48 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
29/05/23 22:35:48 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: 'uGcayiOsCZgWfnFtadIEv.VD1ttvDsPpAZOqjusSyeuMHlsBbUooi',
      Id_customer: 6,
      pseudo: 'Secu',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-29T19:44:35.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorz',
      modifiedAt: 2023-05-20T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      img_src: '2023-05-23T18-28-57.792Z-IMG_20200603_171628.jpg',
      title: 'Administrateur'
    }
  ]
] 
29/05/23 22:35:48 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: 'uGcayiOsCZgWfnFtadIEv.VD1ttvDsPpAZOqjusSyeuMHlsBbUooi'
} 
29/05/23 22:35:48 :: ---> Sortie de la method QUERY de database.service. // 
29/05/23 22:35:48 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secu',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-29T19:44:35.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorz',
  modifiedAt: 2023-05-20T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null,
  img_src: '2023-05-23T18-28-57.792Z-IMG_20200603_171628.jpg'
} 
29/05/23 22:35:48 :: ?? Le role trouvé est: { title: 'Administrateur' } 
29/05/23 22:35:48 :: !! Comparons le mots de passe reçu le résultat est : true 
29/05/23 22:35:48 :: ?? Tentative de mise à jour de la last_connection 
29/05/23 22:35:48 :: // Appel de la method QUERY de database.service. // 
29/05/23 22:35:48 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
29/05/23 22:35:48 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
29/05/23 22:35:48 :: ---> Sortie de la method QUERY de database.service. // 
29/05/23 22:35:48 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secu',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-29T19:44:35.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorz',
    modifiedAt: 2023-05-20T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-23T18-28-57.792Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur'
} 
29/05/23 22:35:48 :: --> last_connection mis à jour avec succès. 
29/05/23 22:35:48 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdSIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMjlUMTk6NDQ6MzUuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnoiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0yMFQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTIzVDE4LTI4LTU3Ljc5MlotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg1MzkyNTQ4LCJleHAiOjE2ODUzOTYxNDh9.NpXAQwn0Jt2MwCNXaVQZ093Tq9MCcVHglB_2-JXptf8 
29/05/23 22:35:48 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdSIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMjlUMTk6NDQ6MzUuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnoiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0yMFQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTIzVDE4LTI4LTU3Ljc5MlotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg1MzkyNTQ4LCJleHAiOjE2ODYyNTY1NDh9.-R4dakey6efPXt5R2vMP0BGRXUumvvFl_YLX71IotfU 
29/05/23 22:35:48 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
29/05/23 22:35:48 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
29/05/23 22:35:48 :: // Appel de la method QUERY de database.service. // 
29/05/23 22:35:48 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
29/05/23 22:35:48 :: ==>Retour de la requete: [ [ { img_src: '2023-05-23T18-28-57.792Z-IMG_20200603_171628.jpg' } ] ] 
29/05/23 22:35:48 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-23T18-28-57.792Z-IMG_20200603_171628.jpg. 
29/05/23 22:35:48 :: ---> Sortie de la method QUERY de database.service. // 
