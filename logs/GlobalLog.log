21/05/23 02:00:19 :: ===================================================== 
21/05/23 02:00:19 :: // Appel de la method handleAuth de authController // 
21/05/23 02:00:19 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIwVDIyOjUzOjMwLjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjA3LCJleHAiOjE2ODQ2MzA4MDd9.cU0BpsO-YH_OHdahfhPUZkDderXJv7IONGYTDIz3XYE 
21/05/23 02:00:19 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-20T22:53:30.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627207,
  exp: 1684630807
} 
21/05/23 02:00:19 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
21/05/23 02:00:19 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:00:19 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
21/05/23 02:00:19 :: ==>Retour de la requete: [ [ { img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg' } ] ] 
21/05/23 02:00:19 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:00:19 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg. 
21/05/23 02:00:31 :: ===================================================== 
21/05/23 02:00:31 :: // Appel de la method handleAuth de authController // 
21/05/23 02:00:31 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIwVDIyOjUzOjMwLjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjA3LCJleHAiOjE2ODQ2MzA4MDd9.cU0BpsO-YH_OHdahfhPUZkDderXJv7IONGYTDIz3XYE 
21/05/23 02:00:31 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-20T22:53:30.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627207,
  exp: 1684630807
} 
21/05/23 02:00:31 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
21/05/23 02:00:31 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
21/05/23 02:00:31 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg. 
21/05/23 02:00:31 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:00:31 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:00:31 :: ==>Retour de la requete: [ [ { img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg' } ] ] 
21/05/23 02:00:36 :: ===================================================== 
21/05/23 02:00:36 :: // Appel de la method handleAuth de authController // 
21/05/23 02:00:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
21/05/23 02:00:36 :: XX Pas de cookie accessToken reçu. 
21/05/23 02:00:36 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
21/05/23 02:00:36 :: // Appel de la method handleRefreshToken de refreshTokenController // 
21/05/23 02:00:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIwVDIyOjUzOjMwLjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjA3LCJleHAiOjE2ODU0OTEyMDd9.-rECttFfzF0WSBqYO9n4_dPLXfsMBxZjmT3XfXel0Ms 
21/05/23 02:00:36 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:00:36 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-20T22:53:30.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627207,
  exp: 1685491207
} 
21/05/23 02:00:36 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
21/05/23 02:00:36 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '9heb0dBHj.Ap7bnlnbJeguCP/4hXKxfvXGTlznhPFXZlOwjjemXqi',
      Id_customer: 6,
      pseudo: 'Secutorz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-21T00:00:07.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secu',
      modifiedAt: 2023-05-19T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg',
      title: 'Administrateur'
    }
  ]
] 
21/05/23 02:00:36 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:00:36 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
21/05/23 02:00:36 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutorz',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-21T00:00:07.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secu',
  modifiedAt: 2023-05-19T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null,
  img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
} 
21/05/23 02:00:36 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
21/05/23 02:00:36 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjM2LCJleHAiOjE2ODQ2MzA4MzZ9.WrN0aTucnMOFKb4plcN7Oq-bzHHNiz3lx2e5feyCcdo 
21/05/23 02:00:36 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-21T00:00:07.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secu',
    modifiedAt: 2023-05-19T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur'
} 
21/05/23 02:00:36 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
21/05/23 02:00:36 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjM2LCJleHAiOjE2ODU0OTEyMzZ9.3DmmrNJUYLtHrWcszJOzC13PgRhKsMY1ew5rPJheIrQ 
21/05/23 02:00:36 :: ===================================================== 
21/05/23 02:00:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjM2LCJleHAiOjE2ODQ2MzA4MzZ9.WrN0aTucnMOFKb4plcN7Oq-bzHHNiz3lx2e5feyCcdo 
21/05/23 02:00:36 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-21T00:00:07.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627236,
  exp: 1684630836
} 
21/05/23 02:00:36 :: // Appel de la method handleAuth de authController // 
21/05/23 02:00:36 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
21/05/23 02:00:36 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:00:36 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
21/05/23 02:00:36 :: ==>Retour de la requete: [ [ { img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg' } ] ] 
21/05/23 02:00:36 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:00:36 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg. 
21/05/23 02:03:43 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:03:48 :: ===================================================== 
21/05/23 02:03:48 :: // Appel de la method handleAuth de authController // 
21/05/23 02:03:48 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjM2LCJleHAiOjE2ODQ2MzA4MzZ9.WrN0aTucnMOFKb4plcN7Oq-bzHHNiz3lx2e5feyCcdo 
21/05/23 02:03:48 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-21T00:00:07.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627236,
  exp: 1684630836
} 
21/05/23 02:03:48 :: yo la data suite a la verif auth via accesstoken is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-21T00:00:07.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627236,
  exp: 1684630836
} 
21/05/23 02:03:48 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
21/05/23 02:03:48 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:03:48 :: Nouvelle connection sur la database: pccompare 
21/05/23 02:03:48 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
21/05/23 02:03:48 :: ==>Retour de la requete: [ [ { img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg' } ] ] 
21/05/23 02:03:48 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg. 
21/05/23 02:03:48 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:05:14 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:05:33 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:05:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:05:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:06:06 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:06:08 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:06:42 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:06:54 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:14 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:18 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:32 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:34 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:37 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:42 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:53 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:07:57 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:08:18 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:08:24 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:08:31 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:08:34 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:08:37 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:08:58 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:07 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:28 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:34 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:39 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:50 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:09:52 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:10:12 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:10:15 :: ===================================================== 
21/05/23 02:10:15 :: // Appel de la method handleAuth de authController // 
21/05/23 02:10:15 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjM2LCJleHAiOjE2ODQ2MzA4MzZ9.WrN0aTucnMOFKb4plcN7Oq-bzHHNiz3lx2e5feyCcdo 
21/05/23 02:10:15 :: XX Erreur lors de la vérification de connexion. ReferenceError: data is not defined
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\v1\login\authController.js:16:87)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\v1\login\auth.js:9:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:175:3) 
21/05/23 02:10:15 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
21/05/23 02:10:15 :: // Appel de la method handleRefreshToken de refreshTokenController // 
21/05/23 02:10:15 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3MjM2LCJleHAiOjE2ODU0OTEyMzZ9.3DmmrNJUYLtHrWcszJOzC13PgRhKsMY1ew5rPJheIrQ 
21/05/23 02:10:15 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-21T00:00:07.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627236,
  exp: 1685491236
} 
21/05/23 02:10:15 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:10:15 :: Nouvelle connection sur la database: pccompare 
21/05/23 02:10:15 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
21/05/23 02:10:15 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '9heb0dBHj.Ap7bnlnbJeguCP/4hXKxfvXGTlznhPFXZlOwjjemXqi',
      Id_customer: 6,
      pseudo: 'Secutorz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-21T00:00:07.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secu',
      modifiedAt: 2023-05-19T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg',
      title: 'Administrateur'
    }
  ]
] 
21/05/23 02:10:15 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
21/05/23 02:10:15 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
21/05/23 02:10:15 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-21T00:00:07.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secu',
    modifiedAt: 2023-05-19T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur'
} 
21/05/23 02:10:15 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutorz',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-21T00:00:07.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secu',
  modifiedAt: 2023-05-19T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null,
  img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
} 
21/05/23 02:10:15 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODE1LCJleHAiOjE2ODQ2MzE0MTV9.qsx7DsY-rawrtrVGb9W2_vGX_KlXX5fxNkd47Ms7gyM 
21/05/23 02:10:15 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODE1LCJleHAiOjE2ODU0OTE4MTV9.8N3xzz8RhxhduddmRz17dY2xV_DzkYssqYPtAqTSa0s 
21/05/23 02:10:15 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
21/05/23 02:10:15 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:10:15 :: ===================================================== 
21/05/23 02:10:15 :: // Appel de la method handleAuth de authController // 
21/05/23 02:10:15 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODE1LCJleHAiOjE2ODQ2MzE0MTV9.qsx7DsY-rawrtrVGb9W2_vGX_KlXX5fxNkd47Ms7gyM 
21/05/23 02:10:15 :: XX Erreur lors de la vérification de connexion. ReferenceError: data is not defined
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\v1\login\authController.js:16:87)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\v1\login\auth.js:9:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:175:3) 
21/05/23 02:10:52 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:11:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODE1LCJleHAiOjE2ODQ2MzE0MTV9.qsx7DsY-rawrtrVGb9W2_vGX_KlXX5fxNkd47Ms7gyM 
21/05/23 02:11:00 :: // Appel de la method handleAuth de authController // 
21/05/23 02:11:00 :: XX Erreur lors de la vérification de connexion. ReferenceError: data is not defined
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\v1\login\authController.js:16:87)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\v1\login\auth.js:9:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:175:3) 
21/05/23 02:11:00 :: ===================================================== 
21/05/23 02:11:00 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
21/05/23 02:11:00 :: // Appel de la method handleRefreshToken de refreshTokenController // 
21/05/23 02:11:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODE1LCJleHAiOjE2ODU0OTE4MTV9.8N3xzz8RhxhduddmRz17dY2xV_DzkYssqYPtAqTSa0s 
21/05/23 02:11:00 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-21T00:00:07.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627815,
  exp: 1685491815
} 
21/05/23 02:11:00 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:11:00 :: Nouvelle connection sur la database: pccompare 
21/05/23 02:11:00 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
21/05/23 02:11:00 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '9heb0dBHj.Ap7bnlnbJeguCP/4hXKxfvXGTlznhPFXZlOwjjemXqi',
      Id_customer: 6,
      pseudo: 'Secutorz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-21T00:00:07.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secu',
      modifiedAt: 2023-05-19T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg',
      title: 'Administrateur'
    }
  ]
] 
21/05/23 02:11:00 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:11:00 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
21/05/23 02:11:00 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutorz',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-21T00:00:07.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secu',
  modifiedAt: 2023-05-19T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null,
  img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
} 
21/05/23 02:11:00 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
21/05/23 02:11:00 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-21T00:00:07.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secu',
    modifiedAt: 2023-05-19T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur'
} 
21/05/23 02:11:00 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODYwLCJleHAiOjE2ODQ2MzE0NjB9.dRlK1yknyKGsARM1g8k1BpZIwOyISYK_emHu6yGv_0E 
21/05/23 02:11:00 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODYwLCJleHAiOjE2ODU0OTE4NjB9.ehBKr8lwcyVSAv_Et6w7WZ3oRmNGtd8OC9RPTPV4Xw4 
21/05/23 02:11:00 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
21/05/23 02:11:00 :: ===================================================== 
21/05/23 02:11:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODYwLCJleHAiOjE2ODQ2MzE0NjB9.dRlK1yknyKGsARM1g8k1BpZIwOyISYK_emHu6yGv_0E 
21/05/23 02:11:00 :: XX Erreur lors de la vérification de connexion. ReferenceError: data is not defined
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\v1\login\authController.js:16:87)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\v1\login\auth.js:9:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:175:3) 
21/05/23 02:11:00 :: // Appel de la method handleAuth de authController // 
21/05/23 02:11:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:11:21 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:11:34 :: ===================================================== 
21/05/23 02:11:34 :: // Appel de la method handleAuth de authController // 
21/05/23 02:11:34 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODYwLCJleHAiOjE2ODQ2MzE0NjB9.dRlK1yknyKGsARM1g8k1BpZIwOyISYK_emHu6yGv_0E 
21/05/23 02:11:34 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env 
21/05/23 02:11:34 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:11:34 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
21/05/23 02:11:34 :: Nouvelle connection sur la database: pccompare 
21/05/23 02:11:34 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
21/05/23 02:11:34 :: ==>Retour de la requete: [ [ { img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg' } ] ] 
21/05/23 02:11:34 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg. 
21/05/23 02:11:34 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:11:55 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:14 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:16 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:17 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:22 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:24 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:25 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:52 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:57 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:17:59 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:02 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:11 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:15 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:22 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:30 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:32 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:37 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:18:46 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:19:05 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:19:09 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:19:11 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:19:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:19:28 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:19:31 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:19:55 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:20:02 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:20:14 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:21:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:21:26 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:21:27 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:22:25 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:22:31 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:22:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:22:38 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:22:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:22:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:22:52 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:06 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:09 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:12 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:34 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:39 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:47 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:50 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:23:57 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:24:01 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:24:23 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:24:28 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:25:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:25:22 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:29:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:29:59 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:30:02 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:30:18 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:30:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:30:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:31:16 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:31:30 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:32:09 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:32:30 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:32:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:33:24 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:33:37 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:33:38 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:33:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:33:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:34:16 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:34:20 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:34:22 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:34:57 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:35:08 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:35:09 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:35:17 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:35:23 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:35:37 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:36:27 :: ===================================================== 
21/05/23 02:36:27 :: // Appel de la method handleAuth de authController // 
21/05/23 02:36:27 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODYwLCJleHAiOjE2ODQ2MzE0NjB9.dRlK1yknyKGsARM1g8k1BpZIwOyISYK_emHu6yGv_0E 
21/05/23 02:36:27 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env 
21/05/23 02:36:27 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:36:27 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
21/05/23 02:36:27 :: Nouvelle connection sur la database: pccompare 
21/05/23 02:36:28 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
21/05/23 02:36:28 :: ==>Retour de la requete: [ [ { img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg' } ] ] 
21/05/23 02:36:28 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg. 
21/05/23 02:36:28 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:36:35 :: ===================================================== 
21/05/23 02:36:35 :: // Appel de la method handleAuth de authController // 
21/05/23 02:36:35 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
21/05/23 02:36:35 :: XX Pas de cookie accessToken reçu. 
21/05/23 02:36:35 :: // Appel de la method handleRefreshToken de refreshTokenController // 
21/05/23 02:36:35 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI3ODYwLCJleHAiOjE2ODU0OTE4NjB9.ehBKr8lwcyVSAv_Et6w7WZ3oRmNGtd8OC9RPTPV4Xw4 
21/05/23 02:36:35 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-21T00:00:07.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684627860,
  exp: 1685491860
} 
21/05/23 02:36:35 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:36:35 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
21/05/23 02:36:35 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
21/05/23 02:36:35 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:36:35 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '9heb0dBHj.Ap7bnlnbJeguCP/4hXKxfvXGTlznhPFXZlOwjjemXqi',
      Id_customer: 6,
      pseudo: 'Secutorz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-21T00:00:07.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secu',
      modifiedAt: 2023-05-19T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg',
      title: 'Administrateur'
    }
  ]
] 
21/05/23 02:36:35 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
21/05/23 02:36:35 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutorz',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-21T00:00:07.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secu',
  modifiedAt: 2023-05-19T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null,
  img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
} 
21/05/23 02:36:35 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
21/05/23 02:36:35 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI5Mzk1LCJleHAiOjE2ODQ2MzI5OTV9.YRdSADu4diqfwdt2Ju2Z038sWcTQs8OSN5aYUmV_9iQ 
21/05/23 02:36:35 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI5Mzk1LCJleHAiOjE2ODU0OTMzOTV9.TIm062r7I9_xr6j1-aa1Pn3f58B572u-JHs9l8QONsQ 
21/05/23 02:36:35 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
21/05/23 02:36:35 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-21T00:00:07.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secu',
    modifiedAt: 2023-05-19T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur'
} 
21/05/23 02:36:35 :: ===================================================== 
21/05/23 02:36:35 :: // Appel de la method handleAuth de authController // 
21/05/23 02:36:35 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env 
21/05/23 02:36:35 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI5Mzk1LCJleHAiOjE2ODQ2MzI5OTV9.YRdSADu4diqfwdt2Ju2Z038sWcTQs8OSN5aYUmV_9iQ 
21/05/23 02:36:35 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:36:35 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
21/05/23 02:36:35 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
21/05/23 02:36:35 :: ==>Retour de la requete: [ [ { img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg' } ] ] 
21/05/23 02:36:35 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:36:35 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg. 
21/05/23 02:36:43 :: // Appel de la method handleAuth de authController // 
21/05/23 02:36:43 :: ===================================================== 
21/05/23 02:36:43 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
21/05/23 02:36:43 :: XX Pas de cookie accessToken reçu. 
21/05/23 02:36:43 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
21/05/23 02:36:43 :: // Appel de la method handleRefreshToken de refreshTokenController // 
21/05/23 02:36:43 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
21/05/23 02:36:43 :: XX Pas de cookie refreshToken reçu. 
21/05/23 02:36:48 :: // Appel de la method handleLogin de loginController // 
21/05/23 02:36:48 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
21/05/23 02:36:48 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:36:48 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
21/05/23 02:36:48 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '9heb0dBHj.Ap7bnlnbJeguCP/4hXKxfvXGTlznhPFXZlOwjjemXqi',
      Id_customer: 6,
      pseudo: 'Secutorz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-21T00:00:07.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secu',
      modifiedAt: 2023-05-19T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg',
      title: 'Administrateur'
    }
  ]
] 
21/05/23 02:36:48 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:36:48 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '9heb0dBHj.Ap7bnlnbJeguCP/4hXKxfvXGTlznhPFXZlOwjjemXqi'
} 
21/05/23 02:36:48 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutorz',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-21T00:00:07.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secu',
  modifiedAt: 2023-05-19T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null,
  img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
} 
21/05/23 02:36:48 :: ?? Le role trouvé est: { title: 'Administrateur' } 
21/05/23 02:36:48 :: !! Comparons le mots de passe reçu le résultat est : true 
21/05/23 02:36:48 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:36:48 :: ?? Tentative de mise à jour de la last_connection 
21/05/23 02:36:48 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
21/05/23 02:36:48 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
21/05/23 02:36:48 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-21T00:00:07.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secu',
    modifiedAt: 2023-05-19T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur'
} 
21/05/23 02:36:48 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI5NDA4LCJleHAiOjE2ODQ2MzMwMDh9.f7c2KEOlQhE1HMt3Rw4RIBIhzkIrw4tRDoXXJo7ye_k 
21/05/23 02:36:48 :: --> last_connection mis à jour avec succès. 
21/05/23 02:36:48 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:36:48 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnoiLCJmaXJzdG5hbWUiOiJNYXhlbmNlIiwibGFzdG5hbWUiOiJBTExBUlQiLCJsYXN0X2Nvbm5lY3Rpb24iOiIyMDIzLTA1LTIxVDAwOjAwOjA3LjAwMFoiLCJjcmVhdGVkQnkiOiJzaXRlIiwiY3JlYXRlZEF0IjoiMjAyMy0wNC0yNlQyMjowMDowMC4wMDBaIiwibW9kaWZpZWRCeSI6IlNlY3UiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0xOVQyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGwsImltZ19zcmMiOiIyMDIzLTA1LTE5VDE5LTU4LTMzLjU3NFotSU1HXzIwMjAwNjAzXzE3MTYyOC5qcGcifSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjg0NjI5NDA4LCJleHAiOjE2ODU0OTM0MDh9.5g1mBWQLgD89HvNCYkhAGTm5Xd-tLxMKDqWAvDYfnq8 
21/05/23 02:36:48 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
21/05/23 02:36:48 :: // Appel de la méthode downloadAvatarByIdCustomer de avatarController// 
21/05/23 02:36:48 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:36:48 :: => Requete appelée: SELECT img_src FROM customer WHERE Id_customer = ? 
21/05/23 02:36:48 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:36:48 :: ==>Retour de la requete: [ [ { img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg' } ] ] 
21/05/23 02:36:48 :: Un avatar pour l'Id_customer 6 a été trouvé à l'url suivante C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\uploads\avatars\6\2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg. 
21/05/23 02:38:05 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:38:06 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:38:08 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:38:11 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:38:12 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:40:23 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:40:25 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:40:30 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:40:43 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:40:52 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:40:53 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:40:58 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:41:06 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:41:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:41:29 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:41:31 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:41:51 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:42:30 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:42:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:42:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:42:58 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:43:02 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:43:03 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:43:33 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:43:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:44:00 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:44:11 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:47:29 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:47:38 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:47:42 :: ------------------------------------------------------- 
21/05/23 02:47:42 :: // Appel de la method handleLogout de loginController // 
21/05/23 02:47:42 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-21T00:00:07.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secu',
    modifiedAt: '2023-05-19T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null,
    img_src: '2023-05-19T19-58-33.574Z-IMG_20200603_171628.jpg'
  },
  role: 'Administrateur',
  iat: 1684629408,
  exp: 1685493408
} 
21/05/23 02:47:56 :: // Appel de la function verifyPseudoAvailable 
21/05/23 02:47:56 :: --> Test de la disponibilité du pseudo:  cccccc 
21/05/23 02:47:56 :: // Appel de la method QUERY de database.service. // 
21/05/23 02:47:56 :: Nouvelle connection sur la database: pccompare 
21/05/23 02:47:56 :: => Requete appelée: SELECT * FROM customer WHERE pseudo = ? 
21/05/23 02:47:56 :: ==>Retour de la requete: [ [] ] 
21/05/23 02:47:56 :: ---> Sortie de la method QUERY de database.service. // 
21/05/23 02:47:56 :: XX Le pseudo n'est pas disponible 
21/05/23 02:47:56 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
21/05/23 02:47:56 :: // Appel de la method sendVerifMail de registerController // 
21/05/23 02:47:56 :: => avec les données suivantes :  {
  firstname: 'aaaaaaa',
  lastname: 'bbbbbbb',
  pseudo: 'cccccc',
  email: 'maxoa59@gmail.com',
  password: '1234',
  password2: '1234'
} 
21/05/23 02:47:56 :: // Tentative d'envoi de mail : // 
21/05/23 02:47:57 :: Verification email sent to maxoa59@gmail.com 
21/05/23 02:47:57 :: §§ MAIL :  Envoyé 
21/05/23 02:47:57 :: le retourMailer est = à: {
  data: {
    accepted: [ 'maxoa59@gmail.com' ],
    rejected: [],
    ehlo: [
      'SIZE 35882577',
      '8BITMIME',
      'AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH',
      'ENHANCEDSTATUSCODES',
      'PIPELINING',
      'CHUNKING',
      'SMTPUTF8'
    ],
    envelopeTime: 105,
    messageTime: 425,
    messageSize: 760,
    response: '250 2.0.0 OK  1684630077 g17-20020a7bc4d1000000b003f423a04016sm6878985wmk.18 - gsmtp',
    envelope: { from: '', to: [ 'maxoa59@gmail.com' ] },
    messageId: '<c5083cf2-9110-0109-94fa-9cca12aaf286@localhost>'
  },
  result: true,
  message: 'Email envoyé'
} 
21/05/23 02:48:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:48:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:48:51 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:48:57 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:48:59 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:49:05 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:49:10 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:49:22 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:49:24 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:49:31 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:49:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:49:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:04 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:06 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:15 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:30 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:31 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:34 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:39 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:46 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:50:48 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:53:13 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:53:34 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:53:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:53:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:53:47 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:53:53 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:54:05 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:54:14 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:54:20 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:54:26 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:54:32 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:54:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:54:39 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:54:42 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:55:29 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:55:39 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:55:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:56:25 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:56:33 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:56:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:56:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:56:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:56:54 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:57:10 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:57:13 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:57:18 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:57:24 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:57:29 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:57:38 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:57:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:58:26 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:58:33 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:58:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:59:05 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 02:59:08 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:00:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:00:48 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:01:10 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:01:25 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:02:25 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:02:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:02:48 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:03:03 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:03:08 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:03:32 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:03:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:03:46 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:03:47 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:04:00 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:04:12 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:04:26 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:04:32 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:04:38 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:04:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:04:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:04:53 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:05:00 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:05:24 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:05:26 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:05:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:05:38 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:05:49 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:05:54 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:06:04 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:06:09 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:06:13 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:06:21 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:08:10 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:08:15 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:08:17 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:08:29 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:08:32 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:08:40 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:08:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:09:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:09:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:09:49 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:09:53 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:10:23 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:10:26 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:10:27 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:10:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:10:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:10:43 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:10:46 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:02 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:10 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:13 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:14 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:16 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:17 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:21 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:23 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:24 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:11:47 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:14 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:16 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:27 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:29 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:31 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:49 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:12:59 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:01 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:04 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:07 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:11 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:22 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:29 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:37 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:41 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:13:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:14:26 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:15:10 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:15:12 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:15:16 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:15:30 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:15:33 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:15:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:15:42 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:15:44 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:16:31 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:16:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:16:49 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:17:05 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:17:21 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:18:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:19:08 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:19:12 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:19:15 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:19:17 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:19:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:24:17 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:24:27 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:24:30 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:24:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:24:42 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:24:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:25:23 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:25:29 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:26:27 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:26:35 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:27:03 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:27:14 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:27:23 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:27:33 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:27:36 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:27:38 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:27:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:27:50 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:28:00 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:28:03 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:28:08 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:28:37 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:28:39 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:28:42 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:28:54 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:29:42 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:30:03 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:30:19 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:30:25 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:30:45 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:30:52 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:30:54 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:30:59 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:33:09 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:33:12 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:33:22 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:33:48 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:33:53 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:33:59 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:34:06 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:34:32 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:34:34 :: Ouverture d'un port d'écoute sur : 5050 
21/05/23 03:35:21 :: Ouverture d'un port d'écoute sur : 5050 
