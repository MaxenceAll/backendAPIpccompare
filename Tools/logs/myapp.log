02/05/23 23:35:17 :: // Appel de la method handleLogin de loginController // 
02/05/23 23:35:17 :: // Appel de la method QUERY de database.service. // 
02/05/23 23:35:17 :: new connexion made sur la database: pccompare 
02/05/23 23:35:17 :: => Requete appelée:         
    SELECT account.email, account.password, customer.*, role.*
    FROM account
    JOIN customer ON account.Id_account = customer.Id_account
    JOIN role ON customer.Id_role = role.Id_role
    WHERE account.email = ?
     
02/05/23 23:35:17 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutore1234567',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-02T23:25:38.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutore12345',
      modifiedAt: 2023-05-01T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
02/05/23 23:35:17 :: ---> Sortie de la method QUERY de database.service. // 
02/05/23 23:35:17 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.'
} 
02/05/23 23:35:17 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutore1234567',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-02T23:25:38.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutore12345',
  modifiedAt: 2023-05-01T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
02/05/23 23:35:17 :: ?? Le role trouvé est: { title: 'Administrateur' } 
02/05/23 23:35:17 :: !! Comparons les mots de passe reçus le résultat est : true 
02/05/23 23:35:17 :: // Appel de la method QUERY de database.service. // 
02/05/23 23:35:17 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
02/05/23 23:35:17 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
02/05/23 23:35:17 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutore1234567',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-02T23:25:38.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutore12345',
    modifiedAt: 2023-05-01T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
02/05/23 23:35:17 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzoyNTozOC4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcwNTE3LCJleHAiOjE2ODMwNzQxMTd9.-58BTRs4Fck3cMps5oyIxA5i9fpkR2oiE-y8jmtxaSc 
02/05/23 23:35:17 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzoyNTozOC4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcwNTE3LCJleHAiOjE2ODM5MzQ1MTd9.tAJNwSkCPePq4TQFXlOm8lAG9lAwMSNIrTfNOmFbCus 
02/05/23 23:35:17 :: ---> Sortie de la method QUERY de database.service. // 
02/05/23 23:35:17 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
02/05/23 23:35:34 :: // Appel de la method handleAuth de authController // 
02/05/23 23:35:34 :: ===================================================== 
02/05/23 23:35:34 :: ?? Vérification de la réception en cookie, on a reçu en req.cookie.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzoyNTozOC4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcwNTE3LCJleHAiOjE2ODMwNzQxMTd9.-58BTRs4Fck3cMps5oyIxA5i9fpkR2oiE-y8jmtxaSc 
02/05/23 23:35:34 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutore1234567',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-02T23:25:38.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutore12345',
    modifiedAt: '2023-05-01T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683070517,
  exp: 1683074117
} 
02/05/23 23:35:56 :: ===================================================== 
02/05/23 23:35:56 :: // Appel de la method handleAuth de authController // 
02/05/23 23:35:56 :: ?? Vérification de la réception en cookie, on a reçu en req.cookie.accessToken : undefined 
02/05/23 23:35:56 :: XX Pas de cookie accessToken reçu. 
02/05/23 23:35:56 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
02/05/23 23:35:56 :: ?? Vérification de la réception de req?.cookie?.refresh, on a reçu : undefined 
02/05/23 23:35:56 :: // Appel de la method handleRefreshToken de refreshTokenController // 
02/05/23 23:37:39 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:37:59 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:38:19 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:38:22 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:38:24 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:39:11 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:39:16 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:39:34 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:39:36 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:39:51 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:39:56 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:40:06 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:40:15 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:40:24 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:40:28 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:41:19 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:41:28 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:41:30 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:41:39 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:41:41 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:41:46 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:41:51 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:44:19 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:44:22 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:44:26 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:44:55 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:44:58 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:46:13 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:46:14 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:46:21 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:46:26 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:46:39 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:46:42 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:47:05 :: ===================================================== 
02/05/23 23:47:05 :: // Appel de la method handleAuth de authController // 
02/05/23 23:47:05 :: XX Pas de cookie accessToken reçu. 
02/05/23 23:47:05 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
02/05/23 23:47:05 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
02/05/23 23:47:05 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzoyNTozOC4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcwNTE3LCJleHAiOjE2ODM5MzQ1MTd9.tAJNwSkCPePq4TQFXlOm8lAG9lAwMSNIrTfNOmFbCus 
02/05/23 23:47:05 :: // Appel de la method handleRefreshToken de refreshTokenController // 
02/05/23 23:47:05 :: XX Pas de cookie accessToken reçu. 
02/05/23 23:47:59 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:48:01 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:48:06 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:48:12 :: ===================================================== 
02/05/23 23:48:12 :: // Appel de la method handleAuth de authController // 
02/05/23 23:48:12 :: XX Pas de cookie accessToken reçu. 
02/05/23 23:48:12 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
02/05/23 23:48:12 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
02/05/23 23:48:12 :: // Appel de la method handleRefreshToken de refreshTokenController // 
02/05/23 23:48:12 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzoyNTozOC4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcwNTE3LCJleHAiOjE2ODM5MzQ1MTd9.tAJNwSkCPePq4TQFXlOm8lAG9lAwMSNIrTfNOmFbCus 
02/05/23 23:48:12 :: XX Erreur lors de la recherche des données de l'utilisateur: Error: Refresh token invalide !
    at handleRefreshToken (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\refreshTokenController.js:37:13)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:175:3)
    at router (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:47:12) 
02/05/23 23:48:12 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutore1234567',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-02T23:25:38.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutore12345',
    modifiedAt: '2023-05-01T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683070517,
  exp: 1683934517
} 
02/05/23 23:49:18 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:49:22 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:51:35 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:51:38 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:54:35 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:54:37 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:54:44 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:54:47 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:54:49 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
02/05/23 23:54:49 :: ===================================================== 
02/05/23 23:54:49 :: XX Pas de cookie accessToken reçu. 
02/05/23 23:54:49 :: // Appel de la method handleAuth de authController // 
02/05/23 23:54:50 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
02/05/23 23:54:50 :: // Appel de la method handleRefreshToken de refreshTokenController // 
02/05/23 23:54:50 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzoyNTozOC4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcwNTE3LCJleHAiOjE2ODM5MzQ1MTd9.tAJNwSkCPePq4TQFXlOm8lAG9lAwMSNIrTfNOmFbCus 
02/05/23 23:54:50 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutore1234567',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-02T23:25:38.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutore12345',
    modifiedAt: '2023-05-01T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683070517,
  exp: 1683934517
} 
02/05/23 23:54:50 :: // Appel de la method QUERY de database.service. // 
02/05/23 23:54:50 :: new connexion made sur la database: pccompare 
02/05/23 23:54:50 :: => Requete appelée:         
    SELECT account.email, account.password, customer.*, role.*
    FROM account
    JOIN customer ON account.Id_account = customer.Id_account
    JOIN role ON customer.Id_role = role.Id_role
    WHERE account.email = ?
     
02/05/23 23:54:50 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutore1234567',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-02T23:35:17.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutore12345',
      modifiedAt: 2023-05-01T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
02/05/23 23:54:50 :: ---> Sortie de la method QUERY de database.service. // 
02/05/23 23:54:50 :: ?? Après le décodage, mise à jour des dernières infos du compte en question:  {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
  Id_customer: 6,
  pseudo: 'Secutore1234567',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-02T23:35:17.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null,
  modifiedBy: 'Secutore12345',
  modifiedAt: 2023-05-01T22:00:00.000Z,
  Id_account: 6,
  Id_role: 3,
  title: 'Administrateur'
} 
02/05/23 23:56:25 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:56:25 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
02/05/23 23:56:25 :: // Appel de la method handleRefreshToken de refreshTokenController // 
02/05/23 23:56:25 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzoyNTozOC4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcwNTE3LCJleHAiOjE2ODM5MzQ1MTd9.tAJNwSkCPePq4TQFXlOm8lAG9lAwMSNIrTfNOmFbCus 
02/05/23 23:56:25 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutore1234567',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-02T23:25:38.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutore12345',
    modifiedAt: '2023-05-01T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683070517,
  exp: 1683934517
} 
02/05/23 23:56:25 :: // Appel de la method QUERY de database.service. // 
02/05/23 23:56:25 :: new connexion made sur la database: pccompare 
02/05/23 23:56:25 :: => Requete appelée:         
    SELECT account.email, account.password, customer.*, role.*
    FROM account
    JOIN customer ON account.Id_account = customer.Id_account
    JOIN role ON customer.Id_role = role.Id_role
    WHERE account.email = ?
     
02/05/23 23:56:25 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutore1234567',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-02T23:35:17.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutore12345',
      modifiedAt: 2023-05-01T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
02/05/23 23:56:25 :: ---> Sortie de la method QUERY de database.service. // 
02/05/23 23:56:25 :: ?? Après le décodage, mise à jour des dernières infos du compte en question:  {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
  Id_customer: 6,
  pseudo: 'Secutore1234567',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-02T23:35:17.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null,
  modifiedBy: 'Secutore12345',
  modifiedAt: 2023-05-01T22:00:00.000Z,
  Id_account: 6,
  Id_role: 3,
  title: 'Administrateur'
} 
02/05/23 23:56:31 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:56:34 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:56:49 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:56:52 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:56:57 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:56:59 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:57:41 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:05 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:09 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:23 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:26 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:32 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:34 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:39 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:40 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:42 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:43 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:47 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:51 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:58:53 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:59:34 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:59:46 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:59:48 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:59:49 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:59:51 :: Ouverture d'un port d'écoute sur : 5050 
02/05/23 23:59:53 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:00:07 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:00:08 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:00:45 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:00:48 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:00:50 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:01:07 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:01:57 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:01:58 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:02:00 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:02:03 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:02:41 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:03:01 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:03:05 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:03:27 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:03:31 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:03:34 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:04:03 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:04:13 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:04:24 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:04:35 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:04:38 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:05:02 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:05:13 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:05:16 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:05:23 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:05:29 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:05:34 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:05:35 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:06:26 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:06:42 :: ===================================================== 
03/05/23 00:06:42 :: // Appel de la method handleAuth de authController // 
03/05/23 00:06:42 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
03/05/23 00:06:42 :: XX Pas de cookie accessToken reçu. 
03/05/23 00:06:42 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
03/05/23 00:06:42 :: // Appel de la method handleRefreshToken de refreshTokenController // 
03/05/23 00:06:42 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzoyNTozOC4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcwNTE3LCJleHAiOjE2ODM5MzQ1MTd9.tAJNwSkCPePq4TQFXlOm8lAG9lAwMSNIrTfNOmFbCus 
03/05/23 00:06:42 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutore1234567',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-02T23:25:38.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutore12345',
    modifiedAt: '2023-05-01T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683070517,
  exp: 1683934517
} 
03/05/23 00:06:42 :: new connexion made sur la database: pccompare 
03/05/23 00:06:42 :: // Appel de la method QUERY de database.service. // 
03/05/23 00:06:42 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
03/05/23 00:06:42 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutore1234567',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-02T23:35:17.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutore12345',
      modifiedAt: 2023-05-01T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
03/05/23 00:06:42 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
03/05/23 00:06:42 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutore1234567',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-02T23:35:17.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutore12345',
  modifiedAt: 2023-05-01T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
03/05/23 00:06:42 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutore1234567',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-02T23:35:17.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutore12345',
    modifiedAt: 2023-05-01T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
03/05/23 00:06:42 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
03/05/23 00:06:42 :: ---> Sortie de la method QUERY de database.service. // 
03/05/23 00:06:42 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzozNToxNy4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcyNDAyLCJleHAiOjE2ODMwNzYwMDJ9.34Mt9jMfLQhxDAejdfPyLsa-ak1aTeL9zC6NnX6eMnA 
03/05/23 00:06:42 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzozNToxNy4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcyNDAyLCJleHAiOjE2ODM5MzY0MDJ9.BVAsp204Etn6lJhWzMdN4GHjnGnKjOq1kqKpNjVftDY 
03/05/23 00:06:42 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
03/05/23 00:06:42 :: ===================================================== 
03/05/23 00:06:42 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcmUxMjM0NTY3IiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wMlQyMzozNToxNy4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJTZWN1dG9yZTEyMzQ1IiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDFUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMDcyNDAyLCJleHAiOjE2ODMwNzYwMDJ9.34Mt9jMfLQhxDAejdfPyLsa-ak1aTeL9zC6NnX6eMnA 
03/05/23 00:06:42 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutore1234567',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-02T23:35:17.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutore12345',
    modifiedAt: '2023-05-01T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683072402,
  exp: 1683076002
} 
03/05/23 00:06:42 :: // Appel de la method handleAuth de authController // 
03/05/23 00:11:37 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:11:43 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:11:50 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:11:52 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:11:53 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:11:56 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:11:58 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:12:05 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:16:19 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:16:27 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:17:06 :: Ouverture d'un port d'écoute sur : 5050 
03/05/23 00:17:53 :: Ouverture d'un port d'écoute sur : 5050 
