04/05/23 13:29:10 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 13:29:10 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 13:29:10 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MSwicHNldWRvIjoiU2VjdXRvcmVlIiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wNFQxMjozODozNS4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJ1bmRlZmluZWQiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0wM1QyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGx9LCJyb2xlIjoiVXRpbGlzYXRldXIiLCJpYXQiOjE2ODMyMDQwNDAsImV4cCI6MTY4NDA2ODA0MH0.eFRCPxsQ7wcDgN0UKnmlf7yGoEE3NQ9c2KsszrOIRgo 
04/05/23 13:29:10 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:10 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 1,
    pseudo: 'Secutoree',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:38:35.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'undefined',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Utilisateur',
  iat: 1683204040,
  exp: 1684068040
} 
04/05/23 13:29:10 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutoreeeee',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutore',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:29:10 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 13:29:10 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:10 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutoreeeee","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutore","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 13:29:10 :: reqcurrentUser is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutoreeeee',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutore',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 13:29:10 :: currentUser is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutoreeeee',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutore',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 13:29:10 :: reqbody is : { Id_customer: 6, pseudo: 'Secutor' } 
04/05/23 13:29:10 :: Id_customer is : 6 
04/05/23 13:29:10 :: entries are : [ [ 'Id_customer', 6 ], [ 'pseudo', 'Secutor' ] ] 
04/05/23 13:29:10 :: trying this sql to update: UPDATE customer SET Id_customer='6',pseudo='Secutor', modifiedBy='Secutoreeeee', modifiedAt=NOW() WHERE deletedBy IS NULL AND Id_customer = 6 
04/05/23 13:29:10 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:10 :: values are: Id_customer='6',pseudo='Secutor' 
04/05/23 13:29:10 :: => Requete appelée: UPDATE customer SET Id_customer='6',pseudo='Secutor', modifiedBy='Secutoreeeee', modifiedAt=NOW() WHERE deletedBy IS NULL AND Id_customer = 6 
04/05/23 13:29:10 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 1',
    serverStatus: 2,
    warningStatus: 1
  }
] 
04/05/23 13:29:10 :: yo le retour de la sqlupdate (data) is : ResultSetHeader {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 1',
  serverStatus: 2,
  warningStatus: 1
} 
04/05/23 13:29:10 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:10 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 13:29:10 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 13:29:10 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MSwicHNldWRvIjoiU2VjdXRvcmVlIiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wNFQxMjozODozNS4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJ1bmRlZmluZWQiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0wM1QyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGx9LCJyb2xlIjoiVXRpbGlzYXRldXIiLCJpYXQiOjE2ODMyMDQwNDAsImV4cCI6MTY4NDA2ODA0MH0.eFRCPxsQ7wcDgN0UKnmlf7yGoEE3NQ9c2KsszrOIRgo 
04/05/23 13:29:10 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 1,
    pseudo: 'Secutoree',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:38:35.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'undefined',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Utilisateur',
  iat: 1683204040,
  exp: 1684068040
} 
04/05/23 13:29:10 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:10 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:29:10 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:10 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 13:29:10 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutoreeeee","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 13:29:10 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 13:29:10 :: // Appel de la method selectOneCustomer // 
04/05/23 13:29:10 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:10 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 13:29:10 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutoreeeee',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 13:29:10 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:10 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 13:29:21 :: ===================================================== 
04/05/23 13:29:21 :: // Appel de la method handleAuth de authController // 
04/05/23 13:29:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MSwicHNldWRvIjoiU2VjdXRvcmVlIiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wNFQxMjozODozNS4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJ1bmRlZmluZWQiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0wM1QyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGx9LCJyb2xlIjoiVXRpbGlzYXRldXIiLCJpYXQiOjE2ODMyMDQwNDAsImV4cCI6MTY4MzIwNzY0MH0.kYVDH0nbcNOILAiaGfu6Fn0g7uWa9xXVEH-QRdQEK-M 
04/05/23 13:29:21 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 1,
    pseudo: 'Secutoree',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:38:35.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'undefined',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Utilisateur',
  iat: 1683204040,
  exp: 1683207640
} 
04/05/23 13:29:21 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 13:29:21 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 13:29:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MSwicHNldWRvIjoiU2VjdXRvcmVlIiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wNFQxMjozODozNS4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJ1bmRlZmluZWQiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0wM1QyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGx9LCJyb2xlIjoiVXRpbGlzYXRldXIiLCJpYXQiOjE2ODMyMDQwNDAsImV4cCI6MTY4NDA2ODA0MH0.eFRCPxsQ7wcDgN0UKnmlf7yGoEE3NQ9c2KsszrOIRgo 
04/05/23 13:29:21 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 1,
    pseudo: 'Secutoree',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:38:35.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'undefined',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Utilisateur',
  iat: 1683204040,
  exp: 1684068040
} 
04/05/23 13:29:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:21 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 13:29:21 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:29:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:21 :: // Appel de la method selectOneCustomer // 
04/05/23 13:29:21 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutoreeeee","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 13:29:21 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 13:29:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:21 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 13:29:21 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 13:29:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:21 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutoreeeee',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 13:29:29 :: ===================================================== 
04/05/23 13:29:29 :: // Appel de la method handleAuth de authController // 
04/05/23 13:29:29 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 13:29:29 :: XX Pas de cookie accessToken reçu. 
04/05/23 13:29:29 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 13:29:29 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 1,
    pseudo: 'Secutoree',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:38:35.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'undefined',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Utilisateur',
  iat: 1683204040,
  exp: 1684068040
} 
04/05/23 13:29:29 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 13:29:29 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 13:29:29 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MSwicHNldWRvIjoiU2VjdXRvcmVlIiwiZmlyc3RuYW1lIjoiTWF4ZW5jZSIsImxhc3RuYW1lIjoiQUxMQVJUIiwibGFzdF9jb25uZWN0aW9uIjoiMjAyMy0wNS0wNFQxMjozODozNS4wMDBaIiwiY3JlYXRlZEJ5Ijoic2l0ZSIsImNyZWF0ZWRBdCI6IjIwMjMtMDQtMjZUMjI6MDA6MDAuMDAwWiIsIm1vZGlmaWVkQnkiOiJ1bmRlZmluZWQiLCJtb2RpZmllZEF0IjoiMjAyMy0wNS0wM1QyMjowMDowMC4wMDBaIiwiZGVsZXRlZEJ5IjpudWxsLCJkZWxldGVkQXQiOm51bGx9LCJyb2xlIjoiVXRpbGlzYXRldXIiLCJpYXQiOjE2ODMyMDQwNDAsImV4cCI6MTY4NDA2ODA0MH0.eFRCPxsQ7wcDgN0UKnmlf7yGoEE3NQ9c2KsszrOIRgo 
04/05/23 13:29:29 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:29 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:29 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:29:29 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutoreeeee',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 13:29:29 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 13:29:29 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODMyMTA1Njl9.V7FoMCIZwykZmccHiCPTRNjRzTdg-RJ2tbPANS0FPVc 
04/05/23 13:29:29 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODQwNzA5Njl9.EUH77V27zwi0njGtMmdEd7t97OKpoSl4zcwexo4zdzw 
04/05/23 13:29:29 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T12:40:40.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutoreeeee',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 13:29:29 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 13:29:29 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 13:29:29 :: // Appel de la method handleAuth de authController // 
04/05/23 13:29:29 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutoreeeee',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683206969,
  exp: 1683210569
} 
04/05/23 13:29:29 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODMyMTA1Njl9.V7FoMCIZwykZmccHiCPTRNjRzTdg-RJ2tbPANS0FPVc 
04/05/23 13:29:29 :: ===================================================== 
04/05/23 13:29:29 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 13:29:29 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 13:29:29 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODQwNzA5Njl9.EUH77V27zwi0njGtMmdEd7t97OKpoSl4zcwexo4zdzw 
04/05/23 13:29:29 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutoreeeee',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683206969,
  exp: 1684070969
} 
04/05/23 13:29:29 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:29 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 13:29:29 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:29:29 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:29 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 13:29:29 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutoreeeee","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 13:29:29 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:29:29 :: // Appel de la method selectOneCustomer // 
04/05/23 13:29:29 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 13:29:29 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 13:29:29 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:29:29 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutoreeeee',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 13:49:15 :: ===================================================== 
04/05/23 13:49:15 :: // Appel de la method handleAuth de authController // 
04/05/23 13:49:15 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutoreeeee',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683206969,
  exp: 1683210569
} 
04/05/23 13:49:15 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODMyMTA1Njl9.V7FoMCIZwykZmccHiCPTRNjRzTdg-RJ2tbPANS0FPVc 
04/05/23 13:49:16 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 13:49:16 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 13:49:16 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODQwNzA5Njl9.EUH77V27zwi0njGtMmdEd7t97OKpoSl4zcwexo4zdzw 
04/05/23 13:49:16 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutoreeeee',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683206969,
  exp: 1684070969
} 
04/05/23 13:49:16 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:16 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutoreeeee","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 13:49:16 :: // Appel de la method selectOneCustomer // 
04/05/23 13:49:16 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 13:49:16 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:16 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 13:49:16 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:49:16 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:16 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 13:49:16 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutoreeeee',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 13:49:16 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 13:49:16 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:22 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 13:49:22 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 13:49:22 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODQwNzA5Njl9.EUH77V27zwi0njGtMmdEd7t97OKpoSl4zcwexo4zdzw 
04/05/23 13:49:22 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutoreeeee',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683206969,
  exp: 1684070969
} 
04/05/23 13:49:22 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:22 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 13:49:22 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutoreeeee',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:49:22 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:22 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutoreeeee","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 13:49:22 :: reqcurrentUser is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutoreeeee',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 13:49:22 :: reqbody is : { Id_customer: 6, pseudo: 'Secutorzzz' } 
04/05/23 13:49:22 :: Id_customer is : 6 
04/05/23 13:49:22 :: currentUser is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutoreeeee',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 13:49:22 :: values are: Id_customer='6',pseudo='Secutorzzz' 
04/05/23 13:49:22 :: entries are : [ [ 'Id_customer', 6 ], [ 'pseudo', 'Secutorzzz' ] ] 
04/05/23 13:49:22 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:22 :: trying this sql to update: UPDATE customer SET Id_customer='6',pseudo='Secutorzzz', modifiedBy='Secutor', modifiedAt=NOW() WHERE deletedBy IS NULL AND Id_customer = 6 
04/05/23 13:49:22 :: => Requete appelée: UPDATE customer SET Id_customer='6',pseudo='Secutorzzz', modifiedBy='Secutor', modifiedAt=NOW() WHERE deletedBy IS NULL AND Id_customer = 6 
04/05/23 13:49:22 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 1',
    serverStatus: 2,
    warningStatus: 1
  }
] 
04/05/23 13:49:22 :: yo le retour de la sqlupdate (data) is : ResultSetHeader {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 1',
  serverStatus: 2,
  warningStatus: 1
} 
04/05/23 13:49:22 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:22 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 13:49:22 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 13:49:22 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODQwNzA5Njl9.EUH77V27zwi0njGtMmdEd7t97OKpoSl4zcwexo4zdzw 
04/05/23 13:49:22 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:22 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutoreeeee',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683206969,
  exp: 1684070969
} 
04/05/23 13:49:22 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 13:49:22 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutorzzz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:49:22 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:22 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutorzzz","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutor","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 13:49:22 :: // Appel de la method selectOneCustomer // 
04/05/23 13:49:22 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:22 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 13:49:22 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutorzzz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 13:49:22 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:22 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutor',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 13:49:22 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 13:49:26 :: // Appel de la method handleAuth de authController // 
04/05/23 13:49:26 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 13:49:26 :: ===================================================== 
04/05/23 13:49:26 :: XX Pas de cookie accessToken reçu. 
04/05/23 13:49:26 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 13:49:26 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 13:49:26 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcmVlZWVlIiwibW9kaWZpZWRBdCI6IjIwMjMtMDUtMDNUMjI6MDA6MDAuMDAwWiIsImRlbGV0ZWRCeSI6bnVsbCwiZGVsZXRlZEF0IjpudWxsfSwicm9sZSI6IkFkbWluaXN0cmF0ZXVyIiwiaWF0IjoxNjgzMjA2OTY5LCJleHAiOjE2ODQwNzA5Njl9.EUH77V27zwi0njGtMmdEd7t97OKpoSl4zcwexo4zdzw 
04/05/23 13:49:26 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutoreeeee',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683206969,
  exp: 1684070969
} 
04/05/23 13:49:26 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:26 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 13:49:26 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutorzzz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:49:26 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:26 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 13:49:26 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutorzzz',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T12:40:40.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutor',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 13:49:26 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 13:49:26 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutor',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 13:49:26 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjgzMjExNzY2fQ.Jqgq_zEDnnK8R0UHIU03nQlvuXbV06jYt0NS0uXibf0 
04/05/23 13:49:26 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjg0MDcyMTY2fQ.3nYg83qc9f1YmlktUiLeG-DVp04YHcoRn3tnyqK1JBA 
04/05/23 13:49:26 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 13:49:26 :: ===================================================== 
04/05/23 13:49:26 :: // Appel de la method handleAuth de authController // 
04/05/23 13:49:26 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjgzMjExNzY2fQ.Jqgq_zEDnnK8R0UHIU03nQlvuXbV06jYt0NS0uXibf0 
04/05/23 13:49:26 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutor',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683208166,
  exp: 1683211766
} 
04/05/23 13:49:26 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 13:49:26 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 13:49:26 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjg0MDcyMTY2fQ.3nYg83qc9f1YmlktUiLeG-DVp04YHcoRn3tnyqK1JBA 
04/05/23 13:49:26 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutor',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683208166,
  exp: 1684072166
} 
04/05/23 13:49:26 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:26 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 13:49:26 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutorzzz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 13:49:26 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:26 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutorzzz","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutor","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 13:49:26 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:26 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 13:49:26 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:26 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutor',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 13:49:26 :: // Appel de la method selectOneCustomer // 
04/05/23 13:49:26 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 13:49:26 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutorzzz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 13:49:44 :: // Appel de la method selectAll de carouselController// 
04/05/23 13:49:44 :: // Appel de la method QUERY de database.service. // 
04/05/23 13:49:44 :: ==>Retour de la requete: [
  [
    {
      id: 1,
      img_src: 'https://picsum.photos/id/1/800/300',
      img_alt: 'lien vers builder',
      description: 'Venez découvrir le builder !',
      button_text: 'Découvrir içi',
      createdAt: 2023-04-23T17:03:47.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:03:47.000Z,
      modifiedBy: 'site',
      navigate_to: 'builder',
      long_description: "Le builder est un outil qui permet de constuire sa config, il permet d'assurer la compatibilité entre les composants.\r\n" +
        "Et combiné avec le comparateur, c'est le meilleur moyen de faire une config au meilleur prix !"
    },
    {
      id: 2,
      img_src: 'https://picsum.photos/id/2/850/400',
      img_alt: 'lien vers page about',
      description: 'Venez découvrir qui nous-sommes !',
      button_text: 'Cliquez ici',
      createdAt: 2023-04-23T17:27:05.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:27:05.000Z,
      modifiedBy: 'site',
      navigate_to: 'about',
      long_description: ''
    },
    {
      id: 3,
      img_src: 'https://picsum.photos/id/3/850/500',
      img_alt: 'lien vers compare',
      description: 'Venez découvrir le comparateur ! Trouvez les meilleurs prix ',
      button_text: 'Trouver les meilleurs prix',
      createdAt: 2023-04-23T17:28:04.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:28:04.000Z,
      modifiedBy: 'site',
      navigate_to: 'compare',
      long_description: ''
    },
    {
      id: 4,
      img_src: 'https://picsum.photos/id/4/850/600',
      img_alt: 'lien vers test',
      description: 'hello world',
      button_text: 'hello',
      createdAt: 2023-04-23T17:29:09.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:29:09.000Z,
      modifiedBy: 'site',
      navigate_to: 'themes',
      long_description: ''
    }
  ]
] 
04/05/23 13:49:44 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 13:49:44 :: => Requete appelée: SELECT * FROM carousel WHERE deletedBy = 0 
04/05/23 13:49:44 :: ---> Sortie de la method selectAll de carouselController // 
04/05/23 15:31:12 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:31:12 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:31:12 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutor',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683208166,
  exp: 1684072166
} 
04/05/23 15:31:12 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:12 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjg0MDcyMTY2fQ.3nYg83qc9f1YmlktUiLeG-DVp04YHcoRn3tnyqK1JBA 
04/05/23 15:31:12 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:31:12 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutorzzz',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:31:12 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:12 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutorzzz","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutor","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:31:12 :: reqcurrentUser is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutor',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:31:12 :: reqbody is : { Id_customer: 6, pseudo: 'Secutor' } 
04/05/23 15:31:12 :: Id_customer is : 6 
04/05/23 15:31:12 :: currentUser is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutor',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:31:12 :: entries are : [ [ 'Id_customer', 6 ], [ 'pseudo', 'Secutor' ] ] 
04/05/23 15:31:12 :: values are: Id_customer='6',pseudo='Secutor' 
04/05/23 15:31:12 :: trying this sql to update: UPDATE customer SET Id_customer='6',pseudo='Secutor', modifiedBy='Secutorzzz', modifiedAt=NOW() WHERE deletedBy IS NULL AND Id_customer = 6 
04/05/23 15:31:12 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:12 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:12 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 1',
    serverStatus: 2,
    warningStatus: 1
  }
] 
04/05/23 15:31:12 :: => Requete appelée: UPDATE customer SET Id_customer='6',pseudo='Secutor', modifiedBy='Secutorzzz', modifiedAt=NOW() WHERE deletedBy IS NULL AND Id_customer = 6 
04/05/23 15:31:12 :: yo le retour de la sqlupdate (data) is : ResultSetHeader {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 1',
  serverStatus: 2,
  warningStatus: 1
} 
04/05/23 15:31:12 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:31:12 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:31:12 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjg0MDcyMTY2fQ.3nYg83qc9f1YmlktUiLeG-DVp04YHcoRn3tnyqK1JBA 
04/05/23 15:31:12 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutor',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683208166,
  exp: 1684072166
} 
04/05/23 15:31:12 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:12 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:31:12 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:31:12 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:12 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:31:12 :: // Appel de la method selectOneCustomer // 
04/05/23 15:31:12 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:12 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:31:12 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:31:12 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:31:12 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:12 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:31:19 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:31:19 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjg0MDcyMTY2fQ.3nYg83qc9f1YmlktUiLeG-DVp04YHcoRn3tnyqK1JBA 
04/05/23 15:31:19 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:31:19 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutor',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683208166,
  exp: 1684072166
} 
04/05/23 15:31:19 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:19 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:31:19 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:31:19 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:19 :: // Appel de la method selectAll de allUsersDataController // 
04/05/23 15:31:19 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:31:19 :: !! On vérifie l'identité du demandeur de cette methode !! 
04/05/23 15:31:19 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:19 :: ==>Retour de la requete: [
  [
    {
      Id_account: 6,
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      Id_role: 3
    },
    {
      Id_account: 7,
      email: 'test_email_1@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'undefined',
      modifiedAt: 2023-05-02T22:00:00.000Z,
      Id_customer: 7,
      pseudo: 'TestPseudo_100',
      firstname: 'TestNom_100',
      lastname: 'TestPrenom_100',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 1
    },
    {
      Id_account: 8,
      email: 'test_email_2@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 8,
      pseudo: 'TestPseudo_2',
      firstname: 'TestNom_2',
      lastname: 'TestPrenom_2',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 1
    },
    {
      Id_account: 9,
      email: 'test_email_3@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 9,
      pseudo: 'TestPseudo_3',
      firstname: 'TestNom_3',
      lastname: 'TestPrenom_3',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 2
    },
    {
      Id_account: 10,
      email: 'test_email_4@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 10,
      pseudo: 'TestPseudo_4',
      firstname: 'TestNom_4',
      lastname: 'TestPrenom_4',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 2
    },
    {
      Id_account: 11,
      email: 'test_email_5@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 11,
      pseudo: 'TestPseudo_5',
      firstname: 'TestNom_5',
      lastname: 'TestPrenom_5',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 3
    },
    {
      Id_account: 12,
      email: 'test_email_6@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 12,
      pseudo: 'TestPseudo_12',
      firstname: 'TestNom_12',
      lastname: 'TestPrenom_12',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 4
    }
  ]
] 
04/05/23 15:31:19 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:19 :: => Requete appelée: SELECT *
  FROM account
  INNER JOIN customer ON account.Id_account = customer.Id_account;
   
04/05/23 15:31:19 :: ---> Sortie de la method selectAll de allUsersDataController. // 
04/05/23 15:31:19 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:31:19 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:31:19 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjg0MDcyMTY2fQ.3nYg83qc9f1YmlktUiLeG-DVp04YHcoRn3tnyqK1JBA 
04/05/23 15:31:19 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutor',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683208166,
  exp: 1684072166
} 
04/05/23 15:31:19 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:19 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:31:19 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:31:19 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:19 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:31:19 :: // Appel de la method selectAll de allRoleDataController // 
04/05/23 15:31:19 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:19 :: !! On vérifie l'identité du demandeur de cette methode !! 
04/05/23 15:31:19 :: => Requete appelée: SELECT * FROM role 
04/05/23 15:31:19 :: ==>Retour de la requete: [
  [
    { Id_role: 1, title: 'Utilisateur' },
    { Id_role: 2, title: 'Modérateur' },
    { Id_role: 3, title: 'Administrateur' },
    { Id_role: 4, title: 'Banni' }
  ]
] 
04/05/23 15:31:19 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:19 :: ---> Sortie de la method selectAll de allRoleDataController. // 
04/05/23 15:31:22 :: ===================================================== 
04/05/23 15:31:22 :: // Appel de la method handleAuth de authController // 
04/05/23 15:31:22 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:31:22 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:31:22 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:31:22 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:31:22 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvcnp6eiIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvciIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIwODE2NiwiZXhwIjoxNjg0MDcyMTY2fQ.3nYg83qc9f1YmlktUiLeG-DVp04YHcoRn3tnyqK1JBA 
04/05/23 15:31:22 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 15:31:22 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutorzzz',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutor',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683208166,
  exp: 1684072166
} 
04/05/23 15:31:22 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:31:22 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:22 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 15:31:22 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 15:31:22 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:31:22 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T12:40:40.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 15:31:22 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjgzMjE3ODgyfQ.kRqommyygcHizMg-8-ytV5Ozv8uf2gMsBpUWE-xHGt0 
04/05/23 15:31:22 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:22 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:31:22 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 15:31:22 :: ===================================================== 
04/05/23 15:31:22 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjgzMjE3ODgyfQ.kRqommyygcHizMg-8-ytV5Ozv8uf2gMsBpUWE-xHGt0 
04/05/23 15:31:22 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1683217882
} 
04/05/23 15:31:22 :: // Appel de la method handleAuth de authController // 
04/05/23 15:31:26 :: // Appel de la method selectAll de carouselController// 
04/05/23 15:31:26 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:31:26 :: => Requete appelée: SELECT * FROM carousel WHERE deletedBy = 0 
04/05/23 15:31:26 :: ==>Retour de la requete: [
  [
    {
      id: 1,
      img_src: 'https://picsum.photos/id/1/800/300',
      img_alt: 'lien vers builder',
      description: 'Venez découvrir le builder !',
      button_text: 'Découvrir içi',
      createdAt: 2023-04-23T17:03:47.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:03:47.000Z,
      modifiedBy: 'site',
      navigate_to: 'builder',
      long_description: "Le builder est un outil qui permet de constuire sa config, il permet d'assurer la compatibilité entre les composants.\r\n" +
        "Et combiné avec le comparateur, c'est le meilleur moyen de faire une config au meilleur prix !"
    },
    {
      id: 2,
      img_src: 'https://picsum.photos/id/2/850/400',
      img_alt: 'lien vers page about',
      description: 'Venez découvrir qui nous-sommes !',
      button_text: 'Cliquez ici',
      createdAt: 2023-04-23T17:27:05.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:27:05.000Z,
      modifiedBy: 'site',
      navigate_to: 'about',
      long_description: ''
    },
    {
      id: 3,
      img_src: 'https://picsum.photos/id/3/850/500',
      img_alt: 'lien vers compare',
      description: 'Venez découvrir le comparateur ! Trouvez les meilleurs prix ',
      button_text: 'Trouver les meilleurs prix',
      createdAt: 2023-04-23T17:28:04.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:28:04.000Z,
      modifiedBy: 'site',
      navigate_to: 'compare',
      long_description: ''
    },
    {
      id: 4,
      img_src: 'https://picsum.photos/id/4/850/600',
      img_alt: 'lien vers test',
      description: 'hello world',
      button_text: 'hello',
      createdAt: 2023-04-23T17:29:09.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:29:09.000Z,
      modifiedBy: 'site',
      navigate_to: 'themes',
      long_description: ''
    }
  ]
] 
04/05/23 15:31:26 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:31:26 :: ---> Sortie de la method selectAll de carouselController // 
04/05/23 15:33:55 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:33:55 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:33:55 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:33:55 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:33:55 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1684078282
} 
04/05/23 15:33:55 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:33:55 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:33:55 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:33:55 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:33:55 :: // Appel de la method selectOneCustomer // 
04/05/23 15:33:55 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:33:55 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:33:55 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:33:55 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:33:55 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:33:55 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:08 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:34:08 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:34:08 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:34:08 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1684078282
} 
04/05/23 15:34:08 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:08 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:34:08 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:34:08 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:34:08 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:08 :: // Appel de la method selectAll de allUsersDataController // 
04/05/23 15:34:08 :: !! On vérifie l'identité du demandeur de cette methode !! 
04/05/23 15:34:08 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:08 :: => Requete appelée: SELECT *
  FROM account
  INNER JOIN customer ON account.Id_account = customer.Id_account;
   
04/05/23 15:34:08 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:08 :: ==>Retour de la requete: [
  [
    {
      Id_account: 6,
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      Id_role: 3
    },
    {
      Id_account: 7,
      email: 'test_email_1@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'undefined',
      modifiedAt: 2023-05-02T22:00:00.000Z,
      Id_customer: 7,
      pseudo: 'TestPseudo_100',
      firstname: 'TestNom_100',
      lastname: 'TestPrenom_100',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 1
    },
    {
      Id_account: 8,
      email: 'test_email_2@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 8,
      pseudo: 'TestPseudo_2',
      firstname: 'TestNom_2',
      lastname: 'TestPrenom_2',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 1
    },
    {
      Id_account: 9,
      email: 'test_email_3@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 9,
      pseudo: 'TestPseudo_3',
      firstname: 'TestNom_3',
      lastname: 'TestPrenom_3',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 2
    },
    {
      Id_account: 10,
      email: 'test_email_4@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 10,
      pseudo: 'TestPseudo_4',
      firstname: 'TestNom_4',
      lastname: 'TestPrenom_4',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 2
    },
    {
      Id_account: 11,
      email: 'test_email_5@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 11,
      pseudo: 'TestPseudo_5',
      firstname: 'TestNom_5',
      lastname: 'TestPrenom_5',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 3
    },
    {
      Id_account: 12,
      email: 'test_email_6@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 12,
      pseudo: 'TestPseudo_12',
      firstname: 'TestNom_12',
      lastname: 'TestPrenom_12',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 4
    }
  ]
] 
04/05/23 15:34:08 :: ---> Sortie de la method selectAll de allUsersDataController. // 
04/05/23 15:34:08 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:34:08 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:34:08 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:34:08 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1684078282
} 
04/05/23 15:34:08 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:08 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:34:08 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:34:08 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:08 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:34:08 :: !! On vérifie l'identité du demandeur de cette methode !! 
04/05/23 15:34:08 :: // Appel de la method selectAll de allRoleDataController // 
04/05/23 15:34:08 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:08 :: ==>Retour de la requete: [
  [
    { Id_role: 1, title: 'Utilisateur' },
    { Id_role: 2, title: 'Modérateur' },
    { Id_role: 3, title: 'Administrateur' },
    { Id_role: 4, title: 'Banni' }
  ]
] 
04/05/23 15:34:08 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:08 :: => Requete appelée: SELECT * FROM role 
04/05/23 15:34:08 :: ---> Sortie de la method selectAll de allRoleDataController. // 
04/05/23 15:34:21 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:34:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:34:21 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:34:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:21 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1684078282
} 
04/05/23 15:34:21 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:34:21 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:34:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:21 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:34:21 :: reqbody is : {
  Id_customer: 7,
  pseudo: 'TestPseudo_100',
  firstname: 'TestNom_100',
  lastname: 'TestPrenom_100'
} 
04/05/23 15:34:21 :: reqcurrentUser is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:34:21 :: Id_customer is : 7 
04/05/23 15:34:21 :: currentUser is : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:34:21 :: Le middleware a détécté l'id : 6 alors que le formulaire a envoyé l'id: 7! 
04/05/23 15:34:21 :: entries are : [
  [ 'Id_customer', 7 ],
  [ 'pseudo', 'TestPseudo_100' ],
  [ 'firstname', 'TestNom_100' ],
  [ 'lastname', 'TestPrenom_100' ]
] 
04/05/23 15:34:21 :: trying this sql to update: UPDATE customer SET Id_customer='7',pseudo='TestPseudo_100',firstname='TestNom_100',lastname='TestPrenom_100', modifiedBy='Secutor', modifiedAt=NOW() WHERE deletedBy IS NULL AND Id_customer = 7 
04/05/23 15:34:21 :: values are: Id_customer='7',pseudo='TestPseudo_100',firstname='TestNom_100',lastname='TestPrenom_100' 
04/05/23 15:34:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:21 :: => Requete appelée: UPDATE customer SET Id_customer='7',pseudo='TestPseudo_100',firstname='TestNom_100',lastname='TestPrenom_100', modifiedBy='Secutor', modifiedAt=NOW() WHERE deletedBy IS NULL AND Id_customer = 7 
04/05/23 15:34:21 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 1',
    serverStatus: 2,
    warningStatus: 1
  }
] 
04/05/23 15:34:21 :: yo le retour de la sqlupdate (data) is : ResultSetHeader {
  fieldCount: 0,
  affectedRows: 1,
  insertId: 0,
  info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 1',
  serverStatus: 2,
  warningStatus: 1
} 
04/05/23 15:34:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:21 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:34:21 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:34:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:34:21 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1684078282
} 
04/05/23 15:34:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:21 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:34:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:21 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:34:21 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:34:21 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:34:21 :: // Appel de la method selectOneCustomer // 
04/05/23 15:34:21 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:34:21 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:34:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:21 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1684078282
} 
04/05/23 15:34:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:34:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:21 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:34:21 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:34:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:21 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:34:21 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:34:21 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:34:21 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:34:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:21 :: !! On vérifie l'identité du demandeur de cette methode !! 
04/05/23 15:34:21 :: // Appel de la method selectAll de allUsersDataController // 
04/05/23 15:34:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:34:21 :: => Requete appelée: SELECT *
  FROM account
  INNER JOIN customer ON account.Id_account = customer.Id_account;
   
04/05/23 15:34:21 :: ==>Retour de la requete: [
  [
    {
      Id_account: 6,
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      Id_role: 3
    },
    {
      Id_account: 7,
      email: 'test_email_1@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_customer: 7,
      pseudo: 'TestPseudo_100',
      firstname: 'TestNom_100',
      lastname: 'TestPrenom_100',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 1
    },
    {
      Id_account: 8,
      email: 'test_email_2@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 8,
      pseudo: 'TestPseudo_2',
      firstname: 'TestNom_2',
      lastname: 'TestPrenom_2',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 1
    },
    {
      Id_account: 9,
      email: 'test_email_3@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 9,
      pseudo: 'TestPseudo_3',
      firstname: 'TestNom_3',
      lastname: 'TestPrenom_3',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 2
    },
    {
      Id_account: 10,
      email: 'test_email_4@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 10,
      pseudo: 'TestPseudo_4',
      firstname: 'TestNom_4',
      lastname: 'TestPrenom_4',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 2
    },
    {
      Id_account: 11,
      email: 'test_email_5@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 11,
      pseudo: 'TestPseudo_5',
      firstname: 'TestNom_5',
      lastname: 'TestPrenom_5',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 3
    },
    {
      Id_account: 12,
      email: 'test_email_6@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 12,
      pseudo: 'TestPseudo_12',
      firstname: 'TestNom_12',
      lastname: 'TestPrenom_12',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 4
    }
  ]
] 
04/05/23 15:34:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:34:21 :: ---> Sortie de la method selectAll de allUsersDataController. // 
04/05/23 15:35:54 :: ===================================================== 
04/05/23 15:35:54 :: // Appel de la method handleAuth de authController // 
04/05/23 15:35:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjgzMjE3ODgyfQ.kRqommyygcHizMg-8-ytV5Ozv8uf2gMsBpUWE-xHGt0 
04/05/23 15:35:54 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1683217882
} 
04/05/23 15:35:54 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:35:54 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:35:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:35:54 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1684078282
} 
04/05/23 15:35:54 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:35:54 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:35:54 :: // Appel de la method selectOneCustomer // 
04/05/23 15:35:54 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:35:54 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:35:54 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:35:54 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:35:54 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:35:54 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:35:54 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:35:54 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:35:54 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:37:24 :: ===================================================== 
04/05/23 15:37:24 :: // Appel de la method handleAuth de authController // 
04/05/23 15:37:24 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:37:24 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:37:24 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:37:24 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:37:24 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDI4MiwiZXhwIjoxNjg0MDc4MjgyfQ.VS1Dwe4MKQNZ-suNEN2xO2jYCcubG2vgG4Et02oYZkc 
04/05/23 15:37:24 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214282,
  exp: 1684078282
} 
04/05/23 15:37:24 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:37:24 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:37:24 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:37:24 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 15:37:24 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T12:40:40.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 15:37:24 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 15:37:24 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:37:24 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDY0NCwiZXhwIjoxNjgzMjE4MjQ0fQ.lz46MyntJwhTxef47k4P55pcKl2r3VJCazaiZkzAuD8 
04/05/23 15:37:24 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDY0NCwiZXhwIjoxNjg0MDc4NjQ0fQ.HGTye-VXfvs2pZ0DnNQ_KXVzoM22u5MIB2oxtMnFX7M 
04/05/23 15:37:24 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 15:37:24 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 15:37:24 :: ===================================================== 
04/05/23 15:37:24 :: // Appel de la method handleAuth de authController // 
04/05/23 15:37:24 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDY0NCwiZXhwIjoxNjgzMjE4MjQ0fQ.lz46MyntJwhTxef47k4P55pcKl2r3VJCazaiZkzAuD8 
04/05/23 15:37:24 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214644,
  exp: 1683218244
} 
04/05/23 15:37:24 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:37:24 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDY0NCwiZXhwIjoxNjg0MDc4NjQ0fQ.HGTye-VXfvs2pZ0DnNQ_KXVzoM22u5MIB2oxtMnFX7M 
04/05/23 15:37:24 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214644,
  exp: 1684078644
} 
04/05/23 15:37:24 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:37:24 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:37:24 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:37:24 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:37:24 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T12:40:40.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:37:24 :: // Appel de la method selectOneCustomer // 
04/05/23 15:37:24 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:37:24 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:37:24 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:37:24 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:37:24 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:37:24 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:37:24 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:38:00 :: ===================================================== 
04/05/23 15:38:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:38:00 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:38:00 :: // Appel de la method handleAuth de authController // 
04/05/23 15:38:00 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:38:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:38:00 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:38:00 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:39:25 :: ===================================================== 
04/05/23 15:39:25 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:39:25 :: // Appel de la method handleAuth de authController // 
04/05/23 15:39:25 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:39:25 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:39:25 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:39:25 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:39:25 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:39:33 :: ===================================================== 
04/05/23 15:39:33 :: // Appel de la method handleAuth de authController // 
04/05/23 15:39:33 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:39:33 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:39:33 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:39:33 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:39:33 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:39:33 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:40:58 :: ===================================================== 
04/05/23 15:40:58 :: // Appel de la method handleAuth de authController // 
04/05/23 15:40:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:40:58 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:40:58 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:40:58 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:40:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:40:58 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:41:21 :: ===================================================== 
04/05/23 15:41:21 :: // Appel de la method handleAuth de authController // 
04/05/23 15:41:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:41:21 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:41:21 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:41:21 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:41:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:41:21 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:41:36 :: ===================================================== 
04/05/23 15:41:36 :: // Appel de la method handleAuth de authController // 
04/05/23 15:41:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:41:36 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:41:36 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:41:36 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:41:36 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:41:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:41:59 :: ===================================================== 
04/05/23 15:41:59 :: // Appel de la method handleAuth de authController // 
04/05/23 15:41:59 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:41:59 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:41:59 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:41:59 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:41:59 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:41:59 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:42:03 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:42:03 :: // Appel de la method selectAll de carouselController// 
04/05/23 15:42:03 :: ==>Retour de la requete: [
  [
    {
      id: 1,
      img_src: 'https://picsum.photos/id/1/800/300',
      img_alt: 'lien vers builder',
      description: 'Venez découvrir le builder !',
      button_text: 'Découvrir içi',
      createdAt: 2023-04-23T17:03:47.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:03:47.000Z,
      modifiedBy: 'site',
      navigate_to: 'builder',
      long_description: "Le builder est un outil qui permet de constuire sa config, il permet d'assurer la compatibilité entre les composants.\r\n" +
        "Et combiné avec le comparateur, c'est le meilleur moyen de faire une config au meilleur prix !"
    },
    {
      id: 2,
      img_src: 'https://picsum.photos/id/2/850/400',
      img_alt: 'lien vers page about',
      description: 'Venez découvrir qui nous-sommes !',
      button_text: 'Cliquez ici',
      createdAt: 2023-04-23T17:27:05.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:27:05.000Z,
      modifiedBy: 'site',
      navigate_to: 'about',
      long_description: ''
    },
    {
      id: 3,
      img_src: 'https://picsum.photos/id/3/850/500',
      img_alt: 'lien vers compare',
      description: 'Venez découvrir le comparateur ! Trouvez les meilleurs prix ',
      button_text: 'Trouver les meilleurs prix',
      createdAt: 2023-04-23T17:28:04.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:28:04.000Z,
      modifiedBy: 'site',
      navigate_to: 'compare',
      long_description: ''
    },
    {
      id: 4,
      img_src: 'https://picsum.photos/id/4/850/600',
      img_alt: 'lien vers test',
      description: 'hello world',
      button_text: 'hello',
      createdAt: 2023-04-23T17:29:09.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:29:09.000Z,
      modifiedBy: 'site',
      navigate_to: 'themes',
      long_description: ''
    }
  ]
] 
04/05/23 15:42:03 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:42:03 :: ---> Sortie de la method selectAll de carouselController // 
04/05/23 15:42:03 :: => Requete appelée: SELECT * FROM carousel WHERE deletedBy = 0 
04/05/23 15:42:08 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
04/05/23 15:42:08 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:42:08 :: // Appel de la method handleLogin de loginController // 
04/05/23 15:42:08 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 15:42:08 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T12:40:40.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:42:08 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:42:08 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.'
} 
04/05/23 15:42:08 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T12:40:40.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 15:42:08 :: ?? Le role trouvé est: { title: 'Administrateur' } 
04/05/23 15:42:08 :: !! Comparons les mots de passe reçus le résultat est : true 
04/05/23 15:42:08 :: ?? Tentative de mise à jour de la last_connection 
04/05/23 15:42:08 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:42:08 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
04/05/23 15:42:08 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
04/05/23 15:42:08 :: --> last_connection mis à jour avec succès. 
04/05/23 15:42:08 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T12:40:40.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:42:08 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:42:08 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
04/05/23 15:42:08 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDkyOCwiZXhwIjoxNjg0MDc4OTI4fQ.UtAricuhxPTtN8B3YqA4YAAaYpYOX-i4fN-QRng26Bc 
04/05/23 15:42:08 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDkyOCwiZXhwIjoxNjgzMjE4NTI4fQ.jRPC87A6zAdlMDWmRUlH2dKI172q-JhnycjboZXlkCE 
04/05/23 15:42:10 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:42:10 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:42:10 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTI6NDA6NDAuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNDkyOCwiZXhwIjoxNjg0MDc4OTI4fQ.UtAricuhxPTtN8B3YqA4YAAaYpYOX-i4fN-QRng26Bc 
04/05/23 15:42:10 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T12:40:40.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683214928,
  exp: 1684078928
} 
04/05/23 15:42:10 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:42:10 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:42:10 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:42:08.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:42:10 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:42:10 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:42:08.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:42:10 :: // Appel de la method selectOneCustomer // 
04/05/23 15:42:10 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:42:10 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:42:10 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:42:08.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:42:10 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:42:10 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:42:10 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:42:08.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:42:30 :: ===================================================== 
04/05/23 15:42:30 :: // Appel de la method handleAuth de authController // 
04/05/23 15:42:30 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:42:30 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:42:30 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:42:30 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:42:30 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:42:30 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:44:20 :: ===================================================== 
04/05/23 15:44:20 :: // Appel de la method handleAuth de authController // 
04/05/23 15:44:20 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:44:20 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:44:20 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:44:20 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:44:20 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:44:20 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:45:39 :: // Appel de la method handleLogin de loginController // 
04/05/23 15:45:39 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:45:39 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
04/05/23 15:45:39 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 15:45:39 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:45:39 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:42:08.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:45:39 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.'
} 
04/05/23 15:45:39 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:42:08.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 15:45:39 :: ?? Le role trouvé est: { title: 'Administrateur' } 
04/05/23 15:45:39 :: !! Comparons les mots de passe reçus le résultat est : true 
04/05/23 15:45:39 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:45:39 :: ?? Tentative de mise à jour de la last_connection 
04/05/23 15:45:39 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
04/05/23 15:45:39 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
04/05/23 15:45:39 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:45:39 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:42:08.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:45:39 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDI6MDguMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTEzOSwiZXhwIjoxNjgzMjE4NzM5fQ.-0jeUnuD0rvnyfraujEOM9wRZhArx--2Z5rezLlin48 
04/05/23 15:45:39 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDI6MDguMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTEzOSwiZXhwIjoxNjg0MDc5MTM5fQ.NfV1JAo7DWrz-zbtk8ZQe273uglXY8s255lZ-85Xm-0 
04/05/23 15:45:39 :: --> last_connection mis à jour avec succès. 
04/05/23 15:45:39 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
04/05/23 15:45:41 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:45:41 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDI6MDguMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTEzOSwiZXhwIjoxNjg0MDc5MTM5fQ.NfV1JAo7DWrz-zbtk8ZQe273uglXY8s255lZ-85Xm-0 
04/05/23 15:45:41 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:45:42 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:42:08.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215139,
  exp: 1684079139
} 
04/05/23 15:45:42 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:45:42 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:45:42 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:45:39.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:45:42 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:45:42 :: // Appel de la method selectOneCustomer // 
04/05/23 15:45:42 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:45:42 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:45:39.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:45:42 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:45:39.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:45:42 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:45:42 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:45:42 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:45:39.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:45:42 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:45:44 :: ===================================================== 
04/05/23 15:45:44 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDI6MDguMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTEzOSwiZXhwIjoxNjgzMjE4NzM5fQ.-0jeUnuD0rvnyfraujEOM9wRZhArx--2Z5rezLlin48 
04/05/23 15:45:44 :: // Appel de la method handleAuth de authController // 
04/05/23 15:45:44 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:42:08.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215139,
  exp: 1683218739
} 
04/05/23 15:45:44 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:45:44 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:45:44 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:45:44 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:45:39.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:45:44 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:45:44 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:42:08.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215139,
  exp: 1684079139
} 
04/05/23 15:45:44 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:45:39.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:45:44 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:45:44 :: // Appel de la method selectOneCustomer // 
04/05/23 15:45:44 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:45:44 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:45:44 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDI6MDguMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTEzOSwiZXhwIjoxNjg0MDc5MTM5fQ.NfV1JAo7DWrz-zbtk8ZQe273uglXY8s255lZ-85Xm-0 
04/05/23 15:45:44 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:45:44 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:45:44 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:45:39.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:45:44 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:45:39.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:45:54 :: ===================================================== 
04/05/23 15:45:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:45:54 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:45:54 :: // Appel de la method handleAuth de authController // 
04/05/23 15:45:54 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:45:54 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:45:54 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:45:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:46:14 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
04/05/23 15:46:14 :: // Appel de la method handleLogin de loginController // 
04/05/23 15:46:14 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:46:14 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 15:46:14 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:45:39.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:46:14 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:46:14 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:45:39.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 15:46:14 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.'
} 
04/05/23 15:46:14 :: ?? Le role trouvé est: { title: 'Administrateur' } 
04/05/23 15:46:14 :: !! Comparons les mots de passe reçus le résultat est : true 
04/05/23 15:46:14 :: ?? Tentative de mise à jour de la last_connection 
04/05/23 15:46:14 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:46:14 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
04/05/23 15:46:14 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
04/05/23 15:46:14 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:46:14 :: --> last_connection mis à jour avec succès. 
04/05/23 15:46:14 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:45:39.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:46:14 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDU6MzkuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTE3NCwiZXhwIjoxNjgzMjE4Nzc0fQ.QyWS6welCdPjCJDcxZ1b9397qm5L--ewYc8A1AnAL1U 
04/05/23 15:46:14 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDU6MzkuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTE3NCwiZXhwIjoxNjg0MDc5MTc0fQ.st4jlntl71qF57CKHvCfy7tqDSuNd3BWFTD3ugIIaxs 
04/05/23 15:46:14 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
04/05/23 15:46:16 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:46:16 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:46:16 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDU6MzkuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTE3NCwiZXhwIjoxNjg0MDc5MTc0fQ.st4jlntl71qF57CKHvCfy7tqDSuNd3BWFTD3ugIIaxs 
04/05/23 15:46:16 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:46:16 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:45:39.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215174,
  exp: 1684079174
} 
04/05/23 15:46:16 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:46:16 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:46:16 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:46:14.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:46:16 :: // Appel de la method selectOneCustomer // 
04/05/23 15:46:16 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:46:14.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:46:16 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:46:16 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:46:16 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:46:16 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:46:14.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:46:16 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:46:14.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:46:16 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:46:19 :: ===================================================== 
04/05/23 15:46:19 :: // Appel de la method handleAuth de authController // 
04/05/23 15:46:19 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDU6MzkuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTE3NCwiZXhwIjoxNjgzMjE4Nzc0fQ.QyWS6welCdPjCJDcxZ1b9397qm5L--ewYc8A1AnAL1U 
04/05/23 15:46:19 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:45:39.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215174,
  exp: 1683218774
} 
04/05/23 15:47:21 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:47:21 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:47:21 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:45:39.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215174,
  exp: 1684079174
} 
04/05/23 15:47:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDU6MzkuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTE3NCwiZXhwIjoxNjg0MDc5MTc0fQ.st4jlntl71qF57CKHvCfy7tqDSuNd3BWFTD3ugIIaxs 
04/05/23 15:47:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:47:21 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:47:21 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:46:14.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:47:21 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:47:21 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:46:14.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:47:21 :: // Appel de la method selectOneCustomer // 
04/05/23 15:47:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:47:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:47:21 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:47:21 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:46:14.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:47:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:47:21 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:46:14.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:47:22 :: ===================================================== 
04/05/23 15:47:22 :: // Appel de la method handleAuth de authController // 
04/05/23 15:47:22 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:45:39.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215174,
  exp: 1683218774
} 
04/05/23 15:47:22 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDU6MzkuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTE3NCwiZXhwIjoxNjgzMjE4Nzc0fQ.QyWS6welCdPjCJDcxZ1b9397qm5L--ewYc8A1AnAL1U 
04/05/23 15:47:22 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:47:22 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:47:22 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDU6MzkuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTE3NCwiZXhwIjoxNjg0MDc5MTc0fQ.st4jlntl71qF57CKHvCfy7tqDSuNd3BWFTD3ugIIaxs 
04/05/23 15:47:22 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:45:39.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215174,
  exp: 1684079174
} 
04/05/23 15:47:22 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:47:22 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:47:22 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:46:14.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:47:22 :: // Appel de la method selectOneCustomer // 
04/05/23 15:47:22 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:46:14.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:47:22 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:47:22 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:47:22 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:47:22 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:47:22 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:46:14.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:47:22 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:47:22 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:46:14.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:47:27 :: ===================================================== 
04/05/23 15:47:27 :: // Appel de la method handleAuth de authController // 
04/05/23 15:47:27 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:47:27 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:47:27 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:47:27 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:47:27 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:47:27 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:47:42 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
04/05/23 15:47:42 :: // Appel de la method handleLogin de loginController // 
04/05/23 15:47:42 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:47:42 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 15:47:42 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:46:14.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:47:42 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:47:42 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:46:14.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 15:47:42 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.'
} 
04/05/23 15:47:42 :: ?? Le role trouvé est: { title: 'Administrateur' } 
04/05/23 15:47:42 :: !! Comparons les mots de passe reçus le résultat est : true 
04/05/23 15:47:42 :: ?? Tentative de mise à jour de la last_connection 
04/05/23 15:47:42 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:47:42 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
04/05/23 15:47:42 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:47:42 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
04/05/23 15:47:42 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:46:14.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:47:42 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjgzMjE4ODYyfQ.Lgx818Jf_1zse_frOK4RmH_cBA0yfHuUxvHMmajomkg 
04/05/23 15:47:42 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjg0MDc5MjYyfQ.S7fHRsEcodwD95OnFQRr0xEBtXOO4_iH9IdQ_IHX_ww 
04/05/23 15:47:42 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
04/05/23 15:47:42 :: --> last_connection mis à jour avec succès. 
04/05/23 15:48:00 :: ===================================================== 
04/05/23 15:48:00 :: // Appel de la method handleAuth de authController // 
04/05/23 15:48:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjgzMjE4ODYyfQ.Lgx818Jf_1zse_frOK4RmH_cBA0yfHuUxvHMmajomkg 
04/05/23 15:48:00 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:46:14.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215262,
  exp: 1683218862
} 
04/05/23 15:48:10 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:48:10 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:48:10 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjg0MDc5MjYyfQ.S7fHRsEcodwD95OnFQRr0xEBtXOO4_iH9IdQ_IHX_ww 
04/05/23 15:48:10 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:48:10 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:46:14.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215262,
  exp: 1684079262
} 
04/05/23 15:48:10 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:48:10 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:48:10 :: // Appel de la method selectOneCustomer // 
04/05/23 15:48:10 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:47:42.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:48:10 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:48:10 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:48:10 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:48:10 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:48:10 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:48:10 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:48:10 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:47:42.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:48:12 :: ===================================================== 
04/05/23 15:48:12 :: // Appel de la method handleAuth de authController // 
04/05/23 15:48:12 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjgzMjE4ODYyfQ.Lgx818Jf_1zse_frOK4RmH_cBA0yfHuUxvHMmajomkg 
04/05/23 15:48:12 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:46:14.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215262,
  exp: 1683218862
} 
04/05/23 15:48:12 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:48:12 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:48:12 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjg0MDc5MjYyfQ.S7fHRsEcodwD95OnFQRr0xEBtXOO4_iH9IdQ_IHX_ww 
04/05/23 15:48:12 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:48:12 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:46:14.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215262,
  exp: 1684079262
} 
04/05/23 15:48:12 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:48:12 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:48:12 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:48:12 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:47:42.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:48:12 :: // Appel de la method selectOneCustomer // 
04/05/23 15:48:12 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:48:12 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:48:12 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:48:12 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:48:12 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:47:42.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:48:12 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:27 :: ===================================================== 
04/05/23 15:51:27 :: // Appel de la method handleAuth de authController // 
04/05/23 15:51:27 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjgzMjE4ODYyfQ.Lgx818Jf_1zse_frOK4RmH_cBA0yfHuUxvHMmajomkg 
04/05/23 15:51:27 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:46:14.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215262,
  exp: 1683218862
} 
04/05/23 15:51:31 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:51:31 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:51:31 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjg0MDc5MjYyfQ.S7fHRsEcodwD95OnFQRr0xEBtXOO4_iH9IdQ_IHX_ww 
04/05/23 15:51:31 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:46:14.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215262,
  exp: 1684079262
} 
04/05/23 15:51:31 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:51:31 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:51:31 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:31 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:51:31 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:47:42.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:51:31 :: // Appel de la method selectOneCustomer // 
04/05/23 15:51:31 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:51:31 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:51:31 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:31 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:51:31 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:47:42.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:51:31 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:51:34 :: ===================================================== 
04/05/23 15:51:34 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjgzMjE4ODYyfQ.Lgx818Jf_1zse_frOK4RmH_cBA0yfHuUxvHMmajomkg 
04/05/23 15:51:34 :: // Appel de la method handleAuth de authController // 
04/05/23 15:51:34 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:46:14.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215262,
  exp: 1683218862
} 
04/05/23 15:51:37 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:51:37 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:51:37 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDY6MTQuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTI2MiwiZXhwIjoxNjg0MDc5MjYyfQ.S7fHRsEcodwD95OnFQRr0xEBtXOO4_iH9IdQ_IHX_ww 
04/05/23 15:51:37 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:46:14.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215262,
  exp: 1684079262
} 
04/05/23 15:51:37 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:51:37 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:51:37 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:51:37 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:37 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:47:42.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:51:37 :: // Appel de la method selectOneCustomer // 
04/05/23 15:51:37 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:51:37 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:51:37 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:51:37 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:51:37 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:47:42.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:51:37 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:42 :: ===================================================== 
04/05/23 15:51:42 :: // Appel de la method handleAuth de authController // 
04/05/23 15:51:42 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 15:51:42 :: XX Pas de cookie accessToken reçu. 
04/05/23 15:51:42 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 15:51:42 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : undefined 
04/05/23 15:51:42 :: XX Pas de cookie refreshToken reçu. 
04/05/23 15:51:42 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 15:51:47 :: // Appel de la method handleLogin de loginController // 
04/05/23 15:51:47 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
04/05/23 15:51:47 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:51:47 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 15:51:47 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:47:42.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:51:47 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:47 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.'
} 
04/05/23 15:51:47 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:47:42.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 15:51:47 :: ?? Le role trouvé est: { title: 'Administrateur' } 
04/05/23 15:51:47 :: !! Comparons les mots de passe reçus le résultat est : true 
04/05/23 15:51:47 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:51:47 :: ?? Tentative de mise à jour de la last_connection 
04/05/23 15:51:47 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
04/05/23 15:51:47 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
04/05/23 15:51:47 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:47:42.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 15:51:47 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 15:51:47 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:47 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
04/05/23 15:51:47 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 15:51:47 :: --> last_connection mis à jour avec succès. 
04/05/23 15:51:55 :: ===================================================== 
04/05/23 15:51:55 :: // Appel de la method handleAuth de authController // 
04/05/23 15:51:55 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 15:51:55 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1683219107
} 
04/05/23 15:51:57 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:51:57 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:51:57 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 15:51:57 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1684079507
} 
04/05/23 15:51:57 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:51:57 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:51:57 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:51:57 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:57 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:51:47.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:51:57 :: // Appel de la method selectOneCustomer // 
04/05/23 15:51:57 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:51:57 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:51:57 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:51:57 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:51:57 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:51:57 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:54:08 :: ===================================================== 
04/05/23 15:54:08 :: // Appel de la method handleAuth de authController // 
04/05/23 15:54:08 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1683219107
} 
04/05/23 15:54:08 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 15:54:30 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:54:30 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:54:30 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 15:54:30 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:30 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1684079507
} 
04/05/23 15:54:30 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:54:30 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:54:30 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:51:47.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:54:30 :: // Appel de la method selectOneCustomer // 
04/05/23 15:54:30 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:54:30 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:30 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:30 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:54:30 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:54:30 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:54:30 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:32 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:54:32 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:54:32 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1684079507
} 
04/05/23 15:54:32 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 15:54:32 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:32 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:54:32 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:54:32 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:32 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:51:47.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:54:32 :: // Appel de la method selectAll de allUsersDataController // 
04/05/23 15:54:32 :: !! On vérifie l'identité du demandeur de cette methode !! 
04/05/23 15:54:32 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:32 :: ==>Retour de la requete: [
  [
    {
      Id_account: 6,
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      Id_role: 3
    },
    {
      Id_account: 7,
      email: 'test_email_1@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_customer: 7,
      pseudo: 'TestPseudo_100',
      firstname: 'TestNom_100',
      lastname: 'TestPrenom_100',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 1
    },
    {
      Id_account: 8,
      email: 'test_email_2@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 8,
      pseudo: 'TestPseudo_2',
      firstname: 'TestNom_2',
      lastname: 'TestPrenom_2',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 1
    },
    {
      Id_account: 9,
      email: 'test_email_3@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 9,
      pseudo: 'TestPseudo_3',
      firstname: 'TestNom_3',
      lastname: 'TestPrenom_3',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 2
    },
    {
      Id_account: 10,
      email: 'test_email_4@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 10,
      pseudo: 'TestPseudo_4',
      firstname: 'TestNom_4',
      lastname: 'TestPrenom_4',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 2
    },
    {
      Id_account: 11,
      email: 'test_email_5@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutor',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 11,
      pseudo: 'TestPseudo_5',
      firstname: 'TestNom_5',
      lastname: 'TestPrenom_5',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 3
    },
    {
      Id_account: 12,
      email: 'test_email_6@test.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      createdBy: 'site',
      createdAt: 2023-03-31T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'site',
      modifiedAt: 2023-04-28T22:00:00.000Z,
      Id_customer: 12,
      pseudo: 'TestPseudo_12',
      firstname: 'TestNom_12',
      lastname: 'TestPrenom_12',
      last_connection: 2023-04-29T21:55:15.000Z,
      Id_role: 4
    }
  ]
] 
04/05/23 15:54:32 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:32 :: ---> Sortie de la method selectAll de allUsersDataController. // 
04/05/23 15:54:32 :: => Requete appelée: SELECT *
  FROM account
  INNER JOIN customer ON account.Id_account = customer.Id_account;
   
04/05/23 15:54:33 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:54:33 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:54:33 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 15:54:33 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1684079507
} 
04/05/23 15:54:33 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:33 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:54:33 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:33 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:51:47.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:54:33 :: // Appel de la method selectAll de allRoleDataController // 
04/05/23 15:54:33 :: !! On vérifie l'identité du demandeur de cette methode !! 
04/05/23 15:54:33 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:54:33 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:33 :: => Requete appelée: SELECT * FROM role 
04/05/23 15:54:33 :: ==>Retour de la requete: [
  [
    { Id_role: 1, title: 'Utilisateur' },
    { Id_role: 2, title: 'Modérateur' },
    { Id_role: 3, title: 'Administrateur' },
    { Id_role: 4, title: 'Banni' }
  ]
] 
04/05/23 15:54:33 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:33 :: ---> Sortie de la method selectAll de allRoleDataController. // 
04/05/23 15:54:36 :: ===================================================== 
04/05/23 15:54:36 :: // Appel de la method handleAuth de authController // 
04/05/23 15:54:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 15:54:36 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1683219107
} 
04/05/23 15:54:44 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:54:44 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:54:44 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 15:54:44 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1684079507
} 
04/05/23 15:54:44 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:44 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:54:44 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:51:47.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:54:44 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:54:44 :: // Appel de la method selectOneCustomer // 
04/05/23 15:54:44 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:44 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:54:44 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:44 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:44 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:54:44 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:54:44 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:54:54 :: ===================================================== 
04/05/23 15:54:54 :: // Appel de la method handleAuth de authController // 
04/05/23 15:54:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 15:54:54 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1683219107
} 
04/05/23 15:54:54 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:54:54 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:54:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 15:54:54 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1684079507
} 
04/05/23 15:54:54 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:54:54 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:54:54 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:54:54 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:51:47.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:54:54 :: // Appel de la method selectOneCustomer // 
04/05/23 15:54:54 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:54 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:54:54 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:54:54 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:54:54 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:54:54 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:54:54 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:55:16 :: ===================================================== 
04/05/23 15:55:16 :: // Appel de la method handleAuth de authController // 
04/05/23 15:55:16 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 15:55:16 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1683219107
} 
04/05/23 15:55:16 :: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
04/05/23 15:55:16 :: // Rentrée dans le middleware verifyRefreshToken // 
04/05/23 15:55:16 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 15:55:16 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1684079507
} 
04/05/23 15:55:16 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:55:16 :: => Requete appelée:         
          SELECT account.email, account.password, customer.*, role.*
          FROM account
          JOIN customer ON account.Id_account = customer.Id_account
          JOIN role ON customer.Id_role = role.Id_role
          WHERE account.email = ?
           
04/05/23 15:55:16 :: ?? On rajoute au REQ pour utilisation futures : {"account":"maxoa59@gmail.com","customer":{"Id_account":6,"Id_customer":6,"Id_role":3,"pseudo":"Secutor","firstname":"Maxence","lastname":"ALLART","last_connection":"2023-05-04T15:51:47.000Z","createdBy":"site","createdAt":"2023-04-26T22:00:00.000Z","modifiedBy":"Secutorzzz","modifiedAt":"2023-05-03T22:00:00.000Z","deletedBy":null,"deletedAt":null},"role":"Administrateur"} 
04/05/23 15:55:16 :: // Appel de la method selectOneCustomer // 
04/05/23 15:55:16 :: ?? Nous tetons de chercher les infos de l'utilisateur avec l'id: 6 
04/05/23 15:55:16 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:55:16 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:55:16 :: => Requete appelée: SELECT customer.*, role.*, account.email
  FROM customer
  INNER JOIN role ON customer.Id_role = role.Id_role
  INNER JOIN account ON customer.Id_account = account.Id_account
  WHERE customer.Id_customer = ? AND customer.deletedBy IS NULL;
   
04/05/23 15:55:16 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:55:16 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 15:55:16 :: ==>Retour de la requete: [
  [
    {
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur',
      email: 'maxoa59@gmail.com'
    }
  ]
] 
04/05/23 15:55:16 :: ?? Nous avons trouvé l'utilisateur avec l'id 6: ses infos : {
  account: { email: 'maxoa59@gmail.com' },
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: { title: 'Administrateur' }
} 
04/05/23 15:55:24 :: // Appel de la method selectAll de carouselController// 
04/05/23 15:55:24 :: // Appel de la method QUERY de database.service. // 
04/05/23 15:55:24 :: => Requete appelée: SELECT * FROM carousel WHERE deletedBy = 0 
04/05/23 15:55:24 :: ==>Retour de la requete: [
  [
    {
      id: 1,
      img_src: 'https://picsum.photos/id/1/800/300',
      img_alt: 'lien vers builder',
      description: 'Venez découvrir le builder !',
      button_text: 'Découvrir içi',
      createdAt: 2023-04-23T17:03:47.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:03:47.000Z,
      modifiedBy: 'site',
      navigate_to: 'builder',
      long_description: "Le builder est un outil qui permet de constuire sa config, il permet d'assurer la compatibilité entre les composants.\r\n" +
        "Et combiné avec le comparateur, c'est le meilleur moyen de faire une config au meilleur prix !"
    },
    {
      id: 2,
      img_src: 'https://picsum.photos/id/2/850/400',
      img_alt: 'lien vers page about',
      description: 'Venez découvrir qui nous-sommes !',
      button_text: 'Cliquez ici',
      createdAt: 2023-04-23T17:27:05.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:27:05.000Z,
      modifiedBy: 'site',
      navigate_to: 'about',
      long_description: ''
    },
    {
      id: 3,
      img_src: 'https://picsum.photos/id/3/850/500',
      img_alt: 'lien vers compare',
      description: 'Venez découvrir le comparateur ! Trouvez les meilleurs prix ',
      button_text: 'Trouver les meilleurs prix',
      createdAt: 2023-04-23T17:28:04.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:28:04.000Z,
      modifiedBy: 'site',
      navigate_to: 'compare',
      long_description: ''
    },
    {
      id: 4,
      img_src: 'https://picsum.photos/id/4/850/600',
      img_alt: 'lien vers test',
      description: 'hello world',
      button_text: 'hello',
      createdAt: 2023-04-23T17:29:09.000Z,
      createdBy: 'site',
      deletedAt: null,
      deletedBy: '0',
      modifiedAt: 2023-04-23T17:29:09.000Z,
      modifiedBy: 'site',
      navigate_to: 'themes',
      long_description: ''
    }
  ]
] 
04/05/23 15:55:24 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 15:55:24 :: ---> Sortie de la method selectAll de carouselController // 
04/05/23 15:56:15 :: ===================================================== 
04/05/23 15:56:15 :: // Appel de la method handleAuth de authController // 
04/05/23 15:56:15 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 15:56:15 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1683219107
} 
04/05/23 15:56:45 :: ===================================================== 
04/05/23 15:56:45 :: // Appel de la method handleAuth de authController // 
04/05/23 15:56:45 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 15:56:45 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1683219107
} 
04/05/23 16:29:25 :: ===================================================== 
04/05/23 16:29:25 :: // Appel de la method handleAuth de authController // 
04/05/23 16:29:25 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 16:29:25 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1683219107
} 
04/05/23 17:26:53 :: ===================================================== 
04/05/23 17:26:53 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:26:53 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:26:53 :: // Appel de la method handleAuth de authController // 
04/05/23 17:26:53 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 17:26:53 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 17:26:53 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjg0MDc5NTA3fQ.bhHeg-JX2HaJ5ERNbsWOcTBExIymwYB99wJ520LMxCE 
04/05/23 17:26:53 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:47:42.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683215507,
  exp: 1684079507
} 
04/05/23 17:26:53 :: // Appel de la method QUERY de database.service. // 
04/05/23 17:26:53 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 17:26:53 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 17:26:53 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 17:26:53 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 17:26:53 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 17:26:53 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 17:26:53 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 17:26:53 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMTIxMywiZXhwIjoxNjgzMjI0ODEzfQ.U1Ivk0RpQbL3qRQJQEjAfCutIW-iBEWDxXrmwVtdnws 
04/05/23 17:26:53 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMTIxMywiZXhwIjoxNjg0MDg1MjEzfQ.ij8C2aZmPDodXai-gG4FajYx5RQwJXYGG7ZrS5U-B40 
04/05/23 17:26:53 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 17:26:53 :: ===================================================== 
04/05/23 17:26:53 :: // Appel de la method handleAuth de authController // 
04/05/23 17:26:53 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:26:53 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:42:21 :: ===================================================== 
04/05/23 17:42:21 :: // Appel de la method handleAuth de authController // 
04/05/23 17:42:21 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:42:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:42:21 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 17:42:21 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 17:42:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMTIxMywiZXhwIjoxNjg0MDg1MjEzfQ.ij8C2aZmPDodXai-gG4FajYx5RQwJXYGG7ZrS5U-B40 
04/05/23 17:42:21 :: // Appel de la method QUERY de database.service. // 
04/05/23 17:42:21 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683221213,
  exp: 1684085213
} 
04/05/23 17:42:21 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 17:42:21 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 17:42:21 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 17:42:21 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 17:42:21 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 17:42:21 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 17:42:21 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjE0MSwiZXhwIjoxNjgzMjI1NzQxfQ.ybd0qGdiKjfw-Ott3Prqd82izaHnIis3f7w6_Lh_Pyc 
04/05/23 17:42:21 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjE0MSwiZXhwIjoxNjg0MDg2MTQxfQ.CQYW_4y3yU_yxnk1cKxXpCk1fm7GVcApSicFvUwNUHU 
04/05/23 17:42:21 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 17:42:21 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 17:42:21 :: ===================================================== 
04/05/23 17:42:21 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:42:21 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:42:21 :: // Appel de la method handleAuth de authController // 
04/05/23 17:52:36 :: ===================================================== 
04/05/23 17:52:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:52:36 :: // Appel de la method handleAuth de authController // 
04/05/23 17:52:36 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:52:36 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 17:52:36 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 17:52:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjE0MSwiZXhwIjoxNjg0MDg2MTQxfQ.CQYW_4y3yU_yxnk1cKxXpCk1fm7GVcApSicFvUwNUHU 
04/05/23 17:52:36 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 17:52:36 :: // Appel de la method QUERY de database.service. // 
04/05/23 17:52:36 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683222141,
  exp: 1684086141
} 
04/05/23 17:52:36 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 17:52:36 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 17:52:36 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 17:52:36 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 17:52:36 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 17:52:36 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 17:52:36 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjc1NiwiZXhwIjoxNjgzMjI2MzU2fQ.4nRkfPdfZ95dYrU47GW5hfTLF2QYyH5RGhFQzjcfGmY 
04/05/23 17:52:36 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjc1NiwiZXhwIjoxNjg0MDg2NzU2fQ.C7khO5VmcJXq1XKiNySTkzPDtk12xt6s83SUgVkNu4A 
04/05/23 17:52:36 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 17:52:36 :: // Appel de la method handleAuth de authController // 
04/05/23 17:52:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:52:36 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:52:36 :: ===================================================== 
04/05/23 17:52:39 :: ===================================================== 
04/05/23 17:52:39 :: // Appel de la method handleAuth de authController // 
04/05/23 17:52:39 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:52:39 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:52:39 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 17:52:39 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 17:52:39 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjc1NiwiZXhwIjoxNjg0MDg2NzU2fQ.C7khO5VmcJXq1XKiNySTkzPDtk12xt6s83SUgVkNu4A 
04/05/23 17:52:39 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683222756,
  exp: 1684086756
} 
04/05/23 17:52:39 :: // Appel de la method QUERY de database.service. // 
04/05/23 17:52:39 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 17:52:39 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 17:52:39 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 17:52:39 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 17:52:39 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 17:52:39 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 17:52:39 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 17:52:39 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjc1OSwiZXhwIjoxNjgzMjI2MzU5fQ.50aluaLwQs2J56N87THW6wG43slt0OmPyq0Ehx9HzG4 
04/05/23 17:52:39 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjc1OSwiZXhwIjoxNjg0MDg2NzU5fQ.9Tcjv6bNK-9Jq708qR3mL0lcbEaUN364MiYhwsYo7RU 
04/05/23 17:52:39 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 17:52:39 :: ===================================================== 
04/05/23 17:52:39 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:52:39 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:52:39 :: // Appel de la method handleAuth de authController // 
04/05/23 17:58:32 :: ===================================================== 
04/05/23 17:58:32 :: // Appel de la method handleAuth de authController // 
04/05/23 17:58:32 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 17:58:32 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:58:32 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMjc1OSwiZXhwIjoxNjg0MDg2NzU5fQ.9Tcjv6bNK-9Jq708qR3mL0lcbEaUN364MiYhwsYo7RU 
04/05/23 17:58:32 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 17:58:32 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 17:58:32 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683222759,
  exp: 1684086759
} 
04/05/23 17:58:32 :: // Appel de la method QUERY de database.service. // 
04/05/23 17:58:32 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 17:58:32 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 17:58:32 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 17:58:32 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 17:58:32 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 17:58:32 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 17:58:32 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzExMiwiZXhwIjoxNjgzMjI2NzEyfQ.XP9Ey6ZZ1DENhiFj_tZde0hCKTGvXk1ZrutlMTRkNu4 
04/05/23 17:58:32 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzExMiwiZXhwIjoxNjg0MDg3MTEyfQ.tpCoaLhPfNtvz0HomIywE7ke_4G9bebNOLyYJVt7_Ac 
04/05/23 17:58:32 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 17:58:32 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 17:58:32 :: ===================================================== 
04/05/23 17:58:32 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 17:58:32 :: // Appel de la method handleAuth de authController // 
04/05/23 17:58:32 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 18:01:04 :: ===================================================== 
04/05/23 18:01:04 :: // Appel de la method handleAuth de authController // 
04/05/23 18:01:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 18:01:04 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 18:01:04 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 18:01:04 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 18:01:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzExMiwiZXhwIjoxNjg0MDg3MTEyfQ.tpCoaLhPfNtvz0HomIywE7ke_4G9bebNOLyYJVt7_Ac 
04/05/23 18:01:04 :: // Appel de la method QUERY de database.service. // 
04/05/23 18:01:04 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683223112,
  exp: 1684087112
} 
04/05/23 18:01:04 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 18:01:04 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 18:01:04 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 18:01:04 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 18:01:04 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 18:01:04 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 18:01:04 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 18:01:04 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzI2NCwiZXhwIjoxNjgzMjI2ODY0fQ.C12EkHsjh8g_Z2IczuaVm4Bkba4GeLBM090Dwffzcps 
04/05/23 18:01:04 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzI2NCwiZXhwIjoxNjg0MDg3MjY0fQ.BswHhAzOvV33CLjlqMFlCcslcn5820cHEP5HqMszpJ0 
04/05/23 18:01:04 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 18:01:04 :: ===================================================== 
04/05/23 18:01:04 :: // Appel de la method handleAuth de authController // 
04/05/23 18:01:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 18:01:04 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 18:01:19 :: ===================================================== 
04/05/23 18:01:19 :: // Appel de la method handleAuth de authController // 
04/05/23 18:01:19 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 18:01:19 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 18:01:19 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 18:01:19 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzI2NCwiZXhwIjoxNjg0MDg3MjY0fQ.BswHhAzOvV33CLjlqMFlCcslcn5820cHEP5HqMszpJ0 
04/05/23 18:01:19 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683223264,
  exp: 1684087264
} 
04/05/23 18:01:19 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 18:01:19 :: // Appel de la method QUERY de database.service. // 
04/05/23 18:01:19 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 18:01:19 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 18:01:19 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 18:01:19 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 18:01:19 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 18:01:19 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 18:01:19 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 18:01:19 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzI3OSwiZXhwIjoxNjgzMjI2ODc5fQ.lRaIZi3awNORXTDCYkyXMv2qlv3lqV2CErBYnqhgUqA 
04/05/23 18:01:19 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzI3OSwiZXhwIjoxNjg0MDg3Mjc5fQ.W5p_GlXh49TKIFwgLzdwzT0Y9O51izH24NymOis49tU 
04/05/23 18:01:19 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 18:01:19 :: ===================================================== 
04/05/23 18:01:19 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 18:01:19 :: // Appel de la method handleAuth de authController // 
04/05/23 18:01:19 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 18:13:42 :: ===================================================== 
04/05/23 18:13:42 :: // Appel de la method handleAuth de authController // 
04/05/23 18:13:42 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 18:13:42 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 18:13:42 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 18:13:42 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyMzI3OSwiZXhwIjoxNjg0MDg3Mjc5fQ.W5p_GlXh49TKIFwgLzdwzT0Y9O51izH24NymOis49tU 
04/05/23 18:13:42 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 18:13:42 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683223279,
  exp: 1684087279
} 
04/05/23 18:13:42 :: // Appel de la method QUERY de database.service. // 
04/05/23 18:13:42 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 18:13:42 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 18:13:42 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 18:13:42 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 18:13:42 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 18:13:42 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNDAyMiwiZXhwIjoxNjgzMjI3NjIyfQ.S50R59-7mO5HrwjNaUzykBuPvMpSqTM16GG7g63Ko_0 
04/05/23 18:13:42 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNDAyMiwiZXhwIjoxNjg0MDg4MDIyfQ.quIkbfS3tCIOycg2kf4zfvarvyaP5GKUppP0dXpdWcM 
04/05/23 18:13:42 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 18:13:42 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 18:13:42 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 18:13:42 :: // Appel de la method handleAuth de authController // 
04/05/23 18:13:42 :: ===================================================== 
04/05/23 18:13:42 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 18:13:42 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 18:31:14 :: ===================================================== 
04/05/23 18:31:14 :: // Appel de la method handleAuth de authController // 
04/05/23 18:31:14 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 18:31:14 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 18:31:14 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 18:31:14 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 18:31:14 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNDAyMiwiZXhwIjoxNjg0MDg4MDIyfQ.quIkbfS3tCIOycg2kf4zfvarvyaP5GKUppP0dXpdWcM 
04/05/23 18:31:14 :: // Appel de la method QUERY de database.service. // 
04/05/23 18:31:14 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683224022,
  exp: 1684088022
} 
04/05/23 18:31:14 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 18:31:14 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 18:31:14 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 18:31:14 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 18:31:14 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 18:31:14 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 18:31:14 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 18:31:14 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNTA3NCwiZXhwIjoxNjgzMjI4Njc0fQ.VT84EILDjWvKOQrnIl1Eg9WF7ITASZI8Fi_ZqSPCqis 
04/05/23 18:31:14 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNTA3NCwiZXhwIjoxNjg0MDg5MDc0fQ.AHGV_mJFP13GxXTr34w7zSUpKfoJFl0KHkEmSJu__ko 
04/05/23 18:31:14 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 18:31:14 :: ===================================================== 
04/05/23 18:31:14 :: // Appel de la method handleAuth de authController // 
04/05/23 18:31:14 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 18:31:14 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:00:02 :: // Appel de la method handleAuth de authController // 
04/05/23 19:00:02 :: ===================================================== 
04/05/23 19:00:02 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:00:02 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:00:02 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:00:02 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:00:02 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNTA3NCwiZXhwIjoxNjg0MDg5MDc0fQ.AHGV_mJFP13GxXTr34w7zSUpKfoJFl0KHkEmSJu__ko 
04/05/23 19:00:02 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683225074,
  exp: 1684089074
} 
04/05/23 19:00:02 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:00:02 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:00:02 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:00:02 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:00:02 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:00:02 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:00:02 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:00:02 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:00:02 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjgwMiwiZXhwIjoxNjgzMjMwNDAyfQ.Z54cxao1_4ykljIJxObVUIwS8gN8q6am9a0_mcFWnyI 
04/05/23 19:00:02 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjgwMiwiZXhwIjoxNjg0MDkwODAyfQ.Q7jMcuvTRfdqPMse0lm030w_ErDCGqQginZS9DwrkhQ 
04/05/23 19:00:02 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:00:02 :: ===================================================== 
04/05/23 19:00:02 :: // Appel de la method handleAuth de authController // 
04/05/23 19:00:02 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:00:02 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:02:16 :: ===================================================== 
04/05/23 19:02:16 :: // Appel de la method handleAuth de authController // 
04/05/23 19:02:16 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:02:16 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:02:16 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:02:16 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:02:16 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjgwMiwiZXhwIjoxNjg0MDkwODAyfQ.Q7jMcuvTRfdqPMse0lm030w_ErDCGqQginZS9DwrkhQ 
04/05/23 19:02:16 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683226802,
  exp: 1684090802
} 
04/05/23 19:02:16 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:02:16 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:02:16 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:02:16 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:02:16 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:02:16 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:02:16 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:02:16 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjkzNiwiZXhwIjoxNjgzMjMwNTM2fQ.28WJ1j6YTrKMT5i0of7ybvM5u3dcE17lzDV3soYNvMY 
04/05/23 19:02:16 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjkzNiwiZXhwIjoxNjg0MDkwOTM2fQ.SfQ4wKHGw065xtnpuBoMbbK4xuP81vHB98G6O-gdx7g 
04/05/23 19:02:16 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:02:16 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:02:17 :: ===================================================== 
04/05/23 19:02:17 :: // Appel de la method handleAuth de authController // 
04/05/23 19:02:17 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:02:17 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:02:32 :: ===================================================== 
04/05/23 19:02:32 :: // Appel de la method handleAuth de authController // 
04/05/23 19:02:32 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:02:32 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:02:32 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:02:32 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjkzNiwiZXhwIjoxNjg0MDkwOTM2fQ.SfQ4wKHGw065xtnpuBoMbbK4xuP81vHB98G6O-gdx7g 
04/05/23 19:02:32 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:02:32 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683226936,
  exp: 1684090936
} 
04/05/23 19:02:32 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:02:32 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:02:32 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:02:32 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:02:32 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:02:32 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:02:32 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:02:32 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:02:32 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjk1MiwiZXhwIjoxNjgzMjMwNTUyfQ.CDbLLwcz6_S1chX5WzIN9n8p8RTkxxi7FJ1ZLMVPhnI 
04/05/23 19:02:32 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:02:32 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjk1MiwiZXhwIjoxNjg0MDkwOTUyfQ.emNJ21eTdDrKNOKS4ex_FnhHZcAl6nwZrup3KN-EGhU 
04/05/23 19:02:32 :: ===================================================== 
04/05/23 19:02:32 :: // Appel de la method handleAuth de authController // 
04/05/23 19:02:32 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:02:32 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:05:51 :: ===================================================== 
04/05/23 19:05:51 :: // Appel de la method handleAuth de authController // 
04/05/23 19:05:51 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:05:51 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:05:51 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:05:51 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:05:51 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNjk1MiwiZXhwIjoxNjg0MDkwOTUyfQ.emNJ21eTdDrKNOKS4ex_FnhHZcAl6nwZrup3KN-EGhU 
04/05/23 19:05:51 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683226952,
  exp: 1684090952
} 
04/05/23 19:05:51 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:05:51 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:05:51 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:05:51 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:05:51 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:05:51 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNzE1MSwiZXhwIjoxNjgzMjMwNzUxfQ.rx3OuwUA4oLYFBqwUsNmIgfaRRQDVjIsEapTZPGVrmo 
04/05/23 19:05:51 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:05:51 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:05:51 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:05:51 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNzE1MSwiZXhwIjoxNjg0MDkxMTUxfQ.29VznQTAUVur07q39Ph4xlly5F7uYkEB6c6ykysTKu4 
04/05/23 19:05:51 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:05:51 :: ===================================================== 
04/05/23 19:05:51 :: // Appel de la method handleAuth de authController // 
04/05/23 19:05:51 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:05:51 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:05:57 :: ===================================================== 
04/05/23 19:05:57 :: // Appel de la method handleAuth de authController // 
04/05/23 19:05:57 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:05:57 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:05:57 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:05:57 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:05:57 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNzE1MSwiZXhwIjoxNjg0MDkxMTUxfQ.29VznQTAUVur07q39Ph4xlly5F7uYkEB6c6ykysTKu4 
04/05/23 19:05:57 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683227151,
  exp: 1684091151
} 
04/05/23 19:05:57 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:05:57 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:05:57 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:05:57 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:05:57 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:05:57 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:05:57 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNzE1NywiZXhwIjoxNjg0MDkxMTU3fQ.d4Lt6Emmvj3UHvJtzDPWPRaHprNaQgQNANmvraATVTM 
04/05/23 19:05:57 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:05:57 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNzE1NywiZXhwIjoxNjgzMjMwNzU3fQ.mKBajT682_nd8Jz4xWiX7SaeLfeGklaLGKhnqDs0kd4 
04/05/23 19:05:57 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:05:57 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:05:58 :: ===================================================== 
04/05/23 19:05:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:05:58 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:05:58 :: // Appel de la method handleAuth de authController // 
04/05/23 19:20:09 :: ===================================================== 
04/05/23 19:20:09 :: // Appel de la method handleAuth de authController // 
04/05/23 19:20:09 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:20:09 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:20:09 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:20:09 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyNzE1NywiZXhwIjoxNjg0MDkxMTU3fQ.d4Lt6Emmvj3UHvJtzDPWPRaHprNaQgQNANmvraATVTM 
04/05/23 19:20:09 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683227157,
  exp: 1684091157
} 
04/05/23 19:20:09 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:20:09 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:20:09 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:20:09 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:20:09 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:20:09 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:20:09 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:20:09 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:20:09 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:20:09 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODAwOSwiZXhwIjoxNjgzMjMxNjA5fQ.Uxz2h3kCPQNpYy1i71jlQsEbXCJdD_kdP3Vr6tPz1UM 
04/05/23 19:20:09 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODAwOSwiZXhwIjoxNjg0MDkyMDA5fQ.5cZfoiZ_XkY9MR53-t7vB52X-RZ0PlSjm5nqKKMoSqM 
04/05/23 19:20:09 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:20:09 :: ===================================================== 
04/05/23 19:20:09 :: // Appel de la method handleAuth de authController // 
04/05/23 19:20:09 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:20:09 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:20:34 :: ===================================================== 
04/05/23 19:20:34 :: // Appel de la method handleAuth de authController // 
04/05/23 19:20:34 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:20:34 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:20:34 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683228009,
  exp: 1684092009
} 
04/05/23 19:20:34 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:20:34 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:20:34 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:20:34 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:20:34 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:20:34 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:20:34 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:20:34 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:20:34 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODAzNCwiZXhwIjoxNjgzMjMxNjM0fQ.eiwxTaqqUc9iqgz_6-rF8O1TE7QXBa28Rdi0gNiU79o 
04/05/23 19:20:34 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODAzNCwiZXhwIjoxNjg0MDkyMDM0fQ.hoZAvJ6jolpTYPnxeu5HSOyu_eUA6I6Sh_XJh2wGufQ 
04/05/23 19:20:34 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:20:34 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:20:34 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:20:34 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODAwOSwiZXhwIjoxNjg0MDkyMDA5fQ.5cZfoiZ_XkY9MR53-t7vB52X-RZ0PlSjm5nqKKMoSqM 
04/05/23 19:20:34 :: ===================================================== 
04/05/23 19:20:34 :: // Appel de la method handleAuth de authController // 
04/05/23 19:20:34 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:20:34 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:20:59 :: ===================================================== 
04/05/23 19:20:59 :: // Appel de la method handleAuth de authController // 
04/05/23 19:20:59 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:20:59 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:20:59 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:20:59 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:20:59 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODAzNCwiZXhwIjoxNjg0MDkyMDM0fQ.hoZAvJ6jolpTYPnxeu5HSOyu_eUA6I6Sh_XJh2wGufQ 
04/05/23 19:20:59 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683228034,
  exp: 1684092034
} 
04/05/23 19:20:59 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:20:59 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:20:59 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:20:59 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:20:59 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:20:59 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODA1OSwiZXhwIjoxNjgzMjMxNjU5fQ.GNkxMiQWC2T-KxFkpi3k0KFxYFmw2Ag1cbFDRRKDXnE 
04/05/23 19:20:59 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODA1OSwiZXhwIjoxNjg0MDkyMDU5fQ.idYa-IoaklZgrXGsp1iDK2aG1MEEHYsZ08bcnP83Gpc 
04/05/23 19:20:59 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:20:59 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:20:59 :: ===================================================== 
04/05/23 19:20:59 :: // Appel de la method handleAuth de authController // 
04/05/23 19:20:59 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:20:59 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:20:59 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:20:59 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:35:04 :: ===================================================== 
04/05/23 19:35:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:35:04 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:35:04 :: // Appel de la method handleAuth de authController // 
04/05/23 19:35:04 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:35:04 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:35:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODA1OSwiZXhwIjoxNjg0MDkyMDU5fQ.idYa-IoaklZgrXGsp1iDK2aG1MEEHYsZ08bcnP83Gpc 
04/05/23 19:35:04 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683228059,
  exp: 1684092059
} 
04/05/23 19:35:04 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:35:04 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:35:04 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:35:04 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:35:04 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:35:04 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:35:04 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:35:04 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODkwNCwiZXhwIjoxNjgzMjMyNTA0fQ.XncSE31QrcfGgkmel2TIJ38gxiLCClj5Vh0_rvYpXUw 
04/05/23 19:35:04 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:35:04 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODkwNCwiZXhwIjoxNjg0MDkyOTA0fQ.0gz0qPFUhwemm2uIVkrUI0W1evr2weszRCYReCwQxG8 
04/05/23 19:35:04 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:35:04 :: ===================================================== 
04/05/23 19:35:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:35:04 :: // Appel de la method handleAuth de authController // 
04/05/23 19:35:04 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:40:35 :: ===================================================== 
04/05/23 19:40:35 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:40:35 :: // Appel de la method handleAuth de authController // 
04/05/23 19:40:35 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:40:36 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:40:36 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:40:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyODkwNCwiZXhwIjoxNjg0MDkyOTA0fQ.0gz0qPFUhwemm2uIVkrUI0W1evr2weszRCYReCwQxG8 
04/05/23 19:40:36 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683228904,
  exp: 1684092904
} 
04/05/23 19:40:36 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:40:36 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:40:36 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:40:36 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:40:36 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:40:36 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:40:36 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:40:36 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:40:36 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyOTIzNiwiZXhwIjoxNjg0MDkzMjM2fQ.KyAMYuK7PnBW8GitmkOS9owRg0PL-saLp-1ZDMEUaVI 
04/05/23 19:40:36 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyOTIzNiwiZXhwIjoxNjgzMjMyODM2fQ.54ePvyWckluN82lqgFEaHmRUlzUqgk4LeIuPETmSGCU 
04/05/23 19:40:36 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:40:36 :: ===================================================== 
04/05/23 19:40:36 :: // Appel de la method handleAuth de authController // 
04/05/23 19:40:36 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:40:36 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:41:37 :: // Appel de la method handleAuth de authController // 
04/05/23 19:41:37 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:41:37 :: ===================================================== 
04/05/23 19:41:37 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 19:41:37 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 19:41:37 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 19:41:37 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyOTIzNiwiZXhwIjoxNjg0MDkzMjM2fQ.KyAMYuK7PnBW8GitmkOS9owRg0PL-saLp-1ZDMEUaVI 
04/05/23 19:41:37 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683229236,
  exp: 1684093236
} 
04/05/23 19:41:37 :: // Appel de la method QUERY de database.service. // 
04/05/23 19:41:37 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 19:41:37 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 19:41:37 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 19:41:37 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 19:41:37 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 19:41:37 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 19:41:37 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 19:41:37 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyOTI5NywiZXhwIjoxNjg0MDkzMjk3fQ.Ctjtl87uh8twk79hDYVFUJo9DJrwUaGPut5Yzg2bSos 
04/05/23 19:41:37 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyOTI5NywiZXhwIjoxNjgzMjMyODk3fQ.JX322l5aFT6AWUQbT5MOyzzZK7WduCpnKk5ymwxu2Q4 
04/05/23 19:41:37 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 19:41:37 :: ===================================================== 
04/05/23 19:41:37 :: // Appel de la method handleAuth de authController // 
04/05/23 19:41:37 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 19:41:37 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 20:29:43 :: ===================================================== 
04/05/23 20:29:43 :: // Appel de la method handleAuth de authController // 
04/05/23 20:29:43 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 20:29:43 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 20:29:43 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 20:29:43 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 20:29:43 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIyOTI5NywiZXhwIjoxNjg0MDkzMjk3fQ.Ctjtl87uh8twk79hDYVFUJo9DJrwUaGPut5Yzg2bSos 
04/05/23 20:29:43 :: // Appel de la method QUERY de database.service. // 
04/05/23 20:29:43 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683229297,
  exp: 1684093297
} 
04/05/23 20:29:43 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 20:29:43 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 20:29:43 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 20:29:43 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 20:29:43 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 20:29:43 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 20:29:43 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 20:29:43 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 20:29:43 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMjE4MywiZXhwIjoxNjgzMjM1NzgzfQ.M8BwGSfMA3sBGOKEquPfjFK4eelC28MB5vvtrriCg8k 
04/05/23 20:29:43 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMjE4MywiZXhwIjoxNjg0MDk2MTgzfQ.tlIHdiaRWogGcaQNOqPHI0t4RXju9_U78db5S9WqNUM 
04/05/23 20:29:43 :: ===================================================== 
04/05/23 20:29:43 :: // Appel de la method handleAuth de authController // 
04/05/23 20:29:43 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 20:29:43 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 20:29:54 :: ===================================================== 
04/05/23 20:29:54 :: // Appel de la method handleAuth de authController // 
04/05/23 20:29:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 20:29:54 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 20:29:54 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 20:29:54 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 20:29:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMjE4MywiZXhwIjoxNjg0MDk2MTgzfQ.tlIHdiaRWogGcaQNOqPHI0t4RXju9_U78db5S9WqNUM 
04/05/23 20:29:54 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683232183,
  exp: 1684096183
} 
04/05/23 20:29:54 :: // Appel de la method QUERY de database.service. // 
04/05/23 20:29:54 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 20:29:54 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 20:29:54 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 20:29:54 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 20:29:54 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 20:29:54 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 20:29:54 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 20:29:54 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMjE5NCwiZXhwIjoxNjgzMjM1Nzk0fQ.ELUCaBlUlbDzABunFGkm9UkH0RQxpZhPkeo2xSMqCMs 
04/05/23 20:29:54 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMjE5NCwiZXhwIjoxNjg0MDk2MTk0fQ.2VZ0VDW-qKGcPHRgTVd3LT48gv-i1LtqrzCHb1YNEys 
04/05/23 20:29:54 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 20:29:54 :: ===================================================== 
04/05/23 20:29:54 :: // Appel de la method handleAuth de authController // 
04/05/23 20:29:54 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 20:29:54 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 20:45:00 :: ===================================================== 
04/05/23 20:45:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 20:45:00 :: // Appel de la method handleAuth de authController // 
04/05/23 20:45:00 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 20:45:00 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 20:45:00 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 20:45:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMjE5NCwiZXhwIjoxNjg0MDk2MTk0fQ.2VZ0VDW-qKGcPHRgTVd3LT48gv-i1LtqrzCHb1YNEys 
04/05/23 20:45:00 :: // Appel de la method QUERY de database.service. // 
04/05/23 20:45:00 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683232194,
  exp: 1684096194
} 
04/05/23 20:45:00 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 20:45:00 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 20:45:00 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 20:45:00 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 20:45:00 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 20:45:00 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 20:45:00 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 20:45:00 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMzEwMCwiZXhwIjoxNjgzMjM2NzAwfQ.hDB3-67Z9XjQCNZdl3WW0PXQnq3MfxP-AKwn41TEdmY 
04/05/23 20:45:00 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMzEwMCwiZXhwIjoxNjg0MDk3MTAwfQ.cYBzqz5aPjjU3zgkvt7ScpVCAybKqX03XxWK_jykES8 
04/05/23 20:45:00 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 20:45:00 :: ===================================================== 
04/05/23 20:45:00 :: // Appel de la method handleAuth de authController // 
04/05/23 20:45:00 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 20:45:00 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:07:40 :: // Appel de la method handleAuth de authController // 
04/05/23 21:07:40 :: ===================================================== 
04/05/23 21:07:40 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:07:40 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:07:40 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 21:07:40 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 21:07:40 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683233100,
  exp: 1684097100
} 
04/05/23 21:07:40 :: // Appel de la method QUERY de database.service. // 
04/05/23 21:07:40 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzMzEwMCwiZXhwIjoxNjg0MDk3MTAwfQ.cYBzqz5aPjjU3zgkvt7ScpVCAybKqX03XxWK_jykES8 
04/05/23 21:07:40 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 21:07:40 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 21:07:40 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 21:07:40 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 21:07:40 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 21:07:40 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNDQ2MCwiZXhwIjoxNjgzMjM4MDYwfQ.SHy2jwhAiB_OzfIaPP9Wd7hbdkV4jLfqCJsWIu3zHKY 
04/05/23 21:07:40 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 21:07:40 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 21:07:40 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNDQ2MCwiZXhwIjoxNjg0MDk4NDYwfQ.JU39WYH7_P3zJUd7453V0d3t2C76d3CCa4K7Zj6mQJI 
04/05/23 21:07:40 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 21:07:40 :: ===================================================== 
04/05/23 21:07:40 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:07:40 :: // Appel de la method handleAuth de authController // 
04/05/23 21:07:40 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:19:58 :: ===================================================== 
04/05/23 21:19:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:19:58 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:19:58 :: // Appel de la method handleAuth de authController // 
04/05/23 21:19:58 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 21:19:58 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 21:19:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNDQ2MCwiZXhwIjoxNjg0MDk4NDYwfQ.JU39WYH7_P3zJUd7453V0d3t2C76d3CCa4K7Zj6mQJI 
04/05/23 21:19:58 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683234460,
  exp: 1684098460
} 
04/05/23 21:19:58 :: // Appel de la method QUERY de database.service. // 
04/05/23 21:19:58 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 21:19:58 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 21:19:58 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 21:19:58 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 21:19:58 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 21:19:58 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 21:19:58 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 21:19:58 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNTE5OCwiZXhwIjoxNjgzMjM4Nzk4fQ.z2LhJaXv2BAs4wAzZH8WsOrOB7wuX9QrfZ0_TI8fZu0 
04/05/23 21:19:58 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNTE5OCwiZXhwIjoxNjg0MDk5MTk4fQ.Bj9_Upwb9EnBmJfsyzbR4xcsBkkEN52yTOnQb2aDdYM 
04/05/23 21:19:58 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 21:19:58 :: ===================================================== 
04/05/23 21:19:58 :: // Appel de la method handleAuth de authController // 
04/05/23 21:19:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:19:58 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:31:45 :: ===================================================== 
04/05/23 21:31:45 :: // Appel de la method handleAuth de authController // 
04/05/23 21:31:45 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:31:45 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:31:45 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 21:31:45 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 21:31:45 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNTE5OCwiZXhwIjoxNjg0MDk5MTk4fQ.Bj9_Upwb9EnBmJfsyzbR4xcsBkkEN52yTOnQb2aDdYM 
04/05/23 21:31:45 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683235198,
  exp: 1684099198
} 
04/05/23 21:31:45 :: // Appel de la method QUERY de database.service. // 
04/05/23 21:31:45 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 21:31:45 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 21:31:45 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 21:31:45 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 21:31:45 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 21:31:45 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 21:31:45 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNTkwNSwiZXhwIjoxNjgzMjM5NTA1fQ.THCIUbt0GY7udn3L-kCWvTj4OtqeHI6_PNSWb3ALJks 
04/05/23 21:31:45 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNTkwNSwiZXhwIjoxNjg0MDk5OTA1fQ.5ae1gyAEAuzxfXqf8OtAJfIupY-0ZOug_KG8LlRUIiE 
04/05/23 21:31:45 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 21:31:45 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 21:31:45 :: ===================================================== 
04/05/23 21:31:45 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:31:45 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:31:45 :: // Appel de la method handleAuth de authController // 
04/05/23 21:53:01 :: ===================================================== 
04/05/23 21:53:01 :: // Appel de la method handleAuth de authController // 
04/05/23 21:53:01 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:53:01 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:53:02 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 21:53:02 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 21:53:02 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNTkwNSwiZXhwIjoxNjg0MDk5OTA1fQ.5ae1gyAEAuzxfXqf8OtAJfIupY-0ZOug_KG8LlRUIiE 
04/05/23 21:53:02 :: // Appel de la method QUERY de database.service. // 
04/05/23 21:53:02 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683235905,
  exp: 1684099905
} 
04/05/23 21:53:02 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 21:53:02 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 21:53:02 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 21:53:02 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 21:53:02 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 21:53:02 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 21:53:02 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 21:53:02 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzE4MiwiZXhwIjoxNjgzMjQwNzgyfQ.S9avay_eihqsBcDmJzN9dI385T5-pGScOekiXNZJwpg 
04/05/23 21:53:02 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzE4MiwiZXhwIjoxNjg0MTAxMTgyfQ.j6z5e_oazWOYnDGgmhL-5-GG1KrkirGPgLKdMOrGXl4 
04/05/23 21:53:02 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 21:53:02 :: ===================================================== 
04/05/23 21:53:02 :: // Appel de la method handleAuth de authController // 
04/05/23 21:53:02 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:53:02 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:54:04 :: ===================================================== 
04/05/23 21:54:04 :: // Appel de la method handleAuth de authController // 
04/05/23 21:54:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:54:04 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:54:04 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 21:54:04 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 21:54:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzE4MiwiZXhwIjoxNjg0MTAxMTgyfQ.j6z5e_oazWOYnDGgmhL-5-GG1KrkirGPgLKdMOrGXl4 
04/05/23 21:54:04 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683237182,
  exp: 1684101182
} 
04/05/23 21:54:04 :: // Appel de la method QUERY de database.service. // 
04/05/23 21:54:04 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 21:54:04 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 21:54:04 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 21:54:04 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 21:54:04 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 21:54:04 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 21:54:04 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 21:54:04 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 21:54:04 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzI0NCwiZXhwIjoxNjg0MTAxMjQ0fQ.tLOYOUXQY2lu7UoU7HwfEyJFVTKkBYPhFKGG_qXAhtk 
04/05/23 21:54:04 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzI0NCwiZXhwIjoxNjgzMjQwODQ0fQ.HNNbizJa1vUVxST4g7QW6NWINANtJGI3uWL-DOsBieQ 
04/05/23 21:54:04 :: ===================================================== 
04/05/23 21:54:04 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:54:04 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:54:04 :: // Appel de la method handleAuth de authController // 
04/05/23 21:54:20 :: ===================================================== 
04/05/23 21:54:20 :: // Appel de la method handleAuth de authController // 
04/05/23 21:54:20 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:54:20 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:54:20 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 21:54:20 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 21:54:20 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzI0NCwiZXhwIjoxNjg0MTAxMjQ0fQ.tLOYOUXQY2lu7UoU7HwfEyJFVTKkBYPhFKGG_qXAhtk 
04/05/23 21:54:20 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 21:54:20 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683237244,
  exp: 1684101244
} 
04/05/23 21:54:20 :: // Appel de la method QUERY de database.service. // 
04/05/23 21:54:20 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 21:54:20 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 21:54:20 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 21:54:20 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 21:54:20 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 21:54:20 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzI2MCwiZXhwIjoxNjgzMjQwODYwfQ.4bTT8axKNbuS8h5oiY0Ha3pqROpngNZ9Zv4VShZnsoA 
04/05/23 21:54:20 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 21:54:20 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzI2MCwiZXhwIjoxNjg0MTAxMjYwfQ.oe6gah_rVNmhm_Uxu8XIZcTW_tmpeNFTkhc8ZQbu3Fg 
04/05/23 21:54:20 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 21:54:20 :: ===================================================== 
04/05/23 21:54:20 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NDc6NDIuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIxNTUwNywiZXhwIjoxNjgzMjE5MTA3fQ.viMexBqoYnerNFVZto71ecQGpjHCuObPYEW7NEAGG4Q 
04/05/23 21:54:20 :: // Appel de la method handleAuth de authController // 
04/05/23 21:54:20 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T16:51:47.000Z
} 
04/05/23 21:54:57 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
04/05/23 21:54:57 :: // Appel de la method handleLogin de loginController // 
04/05/23 21:54:57 :: // Appel de la method QUERY de database.service. // 
04/05/23 21:54:57 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 21:54:57 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T15:51:47.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 21:54:57 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 21:54:57 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.'
} 
04/05/23 21:54:57 :: ?? Le role trouvé est: { title: 'Administrateur' } 
04/05/23 21:54:57 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T15:51:47.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 21:54:57 :: !! Comparons les mots de passe reçus le résultat est : true 
04/05/23 21:54:57 :: ?? Tentative de mise à jour de la last_connection 
04/05/23 21:54:57 :: // Appel de la method QUERY de database.service. // 
04/05/23 21:54:57 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
04/05/23 21:54:57 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
04/05/23 21:54:57 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T15:51:47.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 21:54:57 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzI5NywiZXhwIjoxNjgzMjQwODk3fQ.wnQCcQsNYlCTgJz-ZYrS5HZOjzXOQyzNAT8yGx2HqFE 
04/05/23 21:54:57 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzI5NywiZXhwIjoxNjg0MTAxMjk3fQ.I32NqIfS-5H24GPzbz_y2IaWIcdt9WeINsmKpAlkYBQ 
04/05/23 21:54:57 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
04/05/23 21:54:57 :: --> last_connection mis à jour avec succès. 
04/05/23 21:54:57 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 22:06:29 :: ===================================================== 
04/05/23 22:06:29 :: // Appel de la method handleAuth de authController // 
04/05/23 22:06:29 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 22:06:29 :: XX Pas de cookie accessToken reçu. 
04/05/23 22:06:30 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 22:06:30 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 22:06:30 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMTU6NTE6NDcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzI5NywiZXhwIjoxNjg0MTAxMjk3fQ.I32NqIfS-5H24GPzbz_y2IaWIcdt9WeINsmKpAlkYBQ 
04/05/23 22:06:30 :: // Appel de la method QUERY de database.service. // 
04/05/23 22:06:30 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T15:51:47.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683237297,
  exp: 1684101297
} 
04/05/23 22:06:30 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 22:06:30 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 22:06:30 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T21:54:57.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 22:06:30 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T21:54:57.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 22:06:30 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzk5MCwiZXhwIjoxNjgzMjQxNTkwfQ.Wj6BiTyFyoRq3pip73JrOTgAG-f3A_3YgRP2bW6Davg 
04/05/23 22:06:30 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzk5MCwiZXhwIjoxNjg0MTAxOTkwfQ.x8D_j5L6HRTjfb4U6zaWm3yt5x9yhgZbS8y7G2T5LhQ 
04/05/23 22:06:30 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 22:06:30 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T21:54:57.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 22:06:30 :: ===================================================== 
04/05/23 22:06:30 :: // Appel de la method handleAuth de authController // 
04/05/23 22:06:30 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 22:06:30 :: XX Pas de cookie accessToken reçu. 
04/05/23 22:06:30 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 22:06:30 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 22:06:35 :: ===================================================== 
04/05/23 22:06:35 :: // Appel de la method handleAuth de authController // 
04/05/23 22:06:35 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 22:06:35 :: XX Pas de cookie accessToken reçu. 
04/05/23 22:06:35 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 22:06:35 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 22:06:35 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzk5MCwiZXhwIjoxNjg0MTAxOTkwfQ.x8D_j5L6HRTjfb4U6zaWm3yt5x9yhgZbS8y7G2T5LhQ 
04/05/23 22:06:35 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683237990,
  exp: 1684101990
} 
04/05/23 22:06:35 :: // Appel de la method QUERY de database.service. // 
04/05/23 22:06:35 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 22:06:35 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T21:54:57.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 22:06:35 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 22:06:35 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 22:06:35 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T21:54:57.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 22:06:35 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzk5NSwiZXhwIjoxNjgzMjQxNTk1fQ.h0x-DgBm0FOJYHYQZrhZS8aLkZ279248GwmO3lK6cdM 
04/05/23 22:06:35 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 22:06:35 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T21:54:57.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 22:06:35 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 22:06:35 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzk5NSwiZXhwIjoxNjg0MTAxOTk1fQ.iZh-d5jNIfT_pDBWdDcATdMxd30Xy-nrPOtPLHrXFG4 
04/05/23 22:06:35 :: ===================================================== 
04/05/23 22:06:35 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 22:06:35 :: XX Pas de cookie accessToken reçu. 
04/05/23 22:06:35 :: // Appel de la method handleAuth de authController // 
04/05/23 22:06:48 :: ===================================================== 
04/05/23 22:06:48 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 22:06:48 :: // Appel de la method handleAuth de authController // 
04/05/23 22:06:48 :: XX Pas de cookie accessToken reçu. 
04/05/23 22:06:48 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 22:06:48 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 22:06:48 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683237995,
  exp: 1684101995
} 
04/05/23 22:06:48 :: // Appel de la method QUERY de database.service. // 
04/05/23 22:06:48 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzNzk5NSwiZXhwIjoxNjg0MTAxOTk1fQ.iZh-d5jNIfT_pDBWdDcATdMxd30Xy-nrPOtPLHrXFG4 
04/05/23 22:06:48 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 22:06:48 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T21:54:57.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 22:06:48 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 22:06:48 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T21:54:57.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 22:06:48 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 22:06:48 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 22:06:48 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T21:54:57.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 22:06:48 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 22:06:48 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjg0MTAyMDA4fQ.B6dMxmLgXpNTWHU9ER0fGBscBvOXK5_VdbsQQ38bw5w 
04/05/23 22:06:48 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 22:06:48 :: ===================================================== 
04/05/23 22:06:48 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 22:06:48 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683238008,
  exp: 1683241608
} 
04/05/23 22:06:48 :: // Appel de la method handleAuth de authController // 
04/05/23 22:09:15 :: ===================================================== 
04/05/23 22:09:15 :: // Appel de la method handleAuth de authController // 
04/05/23 22:09:15 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 22:09:15 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683238008,
  exp: 1683241608
} 
04/05/23 22:28:06 :: ===================================================== 
04/05/23 22:28:06 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 22:28:06 :: // Appel de la method handleAuth de authController // 
04/05/23 22:28:06 :: ==> Comparaison du accessTokenCookie avec la secret phrase en .env : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683238008,
  exp: 1683241608
} 
04/05/23 23:10:49 :: ===================================================== 
04/05/23 23:10:49 :: // Appel de la method handleAuth de authController // 
04/05/23 23:10:49 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T23:06:48.000Z
} 
04/05/23 23:10:49 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 23:10:49 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 23:10:49 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 23:10:49 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjg0MTAyMDA4fQ.B6dMxmLgXpNTWHU9ER0fGBscBvOXK5_VdbsQQ38bw5w 
04/05/23 23:10:49 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683238008,
  exp: 1684102008
} 
04/05/23 23:10:49 :: // Appel de la method QUERY de database.service. // 
04/05/23 23:10:49 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 23:10:49 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T21:54:57.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 23:10:49 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 23:10:49 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 23:10:49 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T21:54:57.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 23:10:49 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T21:54:57.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 23:10:49 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg0OSwiZXhwIjoxNjgzMjQ1NDQ5fQ.dIlelqIWUBDkQe1GVJEBFTllAmIxo8-rRffyNDcQ6Zg 
04/05/23 23:10:49 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 23:10:49 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg0OSwiZXhwIjoxNjg0MTA1ODQ5fQ.54ME35Fm3u1SMfP0gqkoI9sylgeVoEpxY49rGbVSXjM 
04/05/23 23:10:49 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 23:10:49 :: ===================================================== 
04/05/23 23:10:49 :: // Appel de la method handleAuth de authController // 
04/05/23 23:10:49 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 23:10:49 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T23:06:48.000Z
} 
04/05/23 23:10:58 :: // Appel de la method handleAuth de authController // 
04/05/23 23:10:58 :: ===================================================== 
04/05/23 23:10:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 23:10:58 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T23:06:48.000Z
} 
04/05/23 23:10:58 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 23:10:58 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 23:10:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg0OSwiZXhwIjoxNjg0MTA1ODQ5fQ.54ME35Fm3u1SMfP0gqkoI9sylgeVoEpxY49rGbVSXjM 
04/05/23 23:10:58 :: // Appel de la method QUERY de database.service. // 
04/05/23 23:10:58 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 23:10:58 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683241849,
  exp: 1684105849
} 
04/05/23 23:10:58 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T21:54:57.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 23:10:58 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 23:10:58 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T21:54:57.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 23:10:58 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T21:54:57.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 23:10:58 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg1OCwiZXhwIjoxNjgzMjQ1NDU4fQ.X229XQ4w2mHvkAT-1T199jcUUAJhzz7sZhbq3h5QYtc 
04/05/23 23:10:58 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg1OCwiZXhwIjoxNjg0MTA1ODU4fQ.hZbhC1XSVMuGgYbEzI-_9K5FgeihK3D-Q5B9lPcI5gM 
04/05/23 23:10:58 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 23:10:58 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 23:10:58 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 23:10:58 :: ===================================================== 
04/05/23 23:10:58 :: // Appel de la method handleAuth de authController // 
04/05/23 23:10:58 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T23:06:48.000Z
} 
04/05/23 23:10:58 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 23:11:03 :: ===================================================== 
04/05/23 23:11:03 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 23:11:03 :: // Appel de la method handleAuth de authController // 
04/05/23 23:11:03 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T23:06:48.000Z
} 
04/05/23 23:11:03 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 23:11:03 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg1OCwiZXhwIjoxNjg0MTA1ODU4fQ.hZbhC1XSVMuGgYbEzI-_9K5FgeihK3D-Q5B9lPcI5gM 
04/05/23 23:11:03 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683241858,
  exp: 1684105858
} 
04/05/23 23:11:03 :: // Appel de la method QUERY de database.service. // 
04/05/23 23:11:03 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 23:11:03 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 23:11:03 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T21:54:57.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 23:11:03 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 23:11:03 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 23:11:03 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T21:54:57.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 23:11:03 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 23:11:03 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T21:54:57.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 23:11:03 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg2MywiZXhwIjoxNjgzMjQ1NDYzfQ.9Ok2IK7DQbNMMoRG9ya10BUchozDm3Whjxb6yM5M16A 
04/05/23 23:11:03 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg2MywiZXhwIjoxNjg0MTA1ODYzfQ.9Pu0Wl5BZd0yjIYNYt95XFxF72ImfJ4jIBdVi-xTyWg 
04/05/23 23:11:03 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 23:11:03 :: ===================================================== 
04/05/23 23:11:03 :: // Appel de la method handleAuth de authController // 
04/05/23 23:11:03 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzIzODAwOCwiZXhwIjoxNjgzMjQxNjA4fQ.w6udfxLnnY5AcICC3NMbpIm-UVqAtDP1ZagMGhA9KE4 
04/05/23 23:11:03 :: !! Le accessToken est expiré ! TokenExpiredError: jwt expired
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:190:21
    at getSecret (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:97:14)
    at module.exports [as verify] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\jsonwebtoken\verify.js:101:10)
    at Object.handleAuth (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\controllers\authController.js:26:22)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\routes\auth.js:6:24
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\cQpro Fixe\Desktop\Work\Project File Rouge\v3\newBackendApi\node_modules\express\lib\router\index.js:284:15 {
  expiredAt: 2023-05-04T23:06:48.000Z
} 
04/05/23 23:11:11 :: // Appel de la method handleLogin de loginController // 
04/05/23 23:11:11 :: +++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
04/05/23 23:11:11 :: // Appel de la method QUERY de database.service. // 
04/05/23 23:11:11 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 23:11:11 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T21:54:57.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 23:11:11 :: ?? L'account trouvé est: {
  email: 'maxoa59@gmail.com',
  password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.'
} 
04/05/23 23:11:11 :: ?? Le role trouvé est: { title: 'Administrateur' } 
04/05/23 23:11:11 :: ?? Le customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T21:54:57.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 23:11:11 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 23:11:11 :: ?? Tentative de mise à jour de la last_connection 
04/05/23 23:11:11 :: // Appel de la method QUERY de database.service. // 
04/05/23 23:11:11 :: !! Comparons les mots de passe reçus le résultat est : true 
04/05/23 23:11:11 :: => Requete appelée: 
      UPDATE customer
      SET last_connection = NOW()
      WHERE Id_customer = ?;
       
04/05/23 23:11:11 :: ==>Retour de la requete: [
  ResultSetHeader {
    fieldCount: 0,
    affectedRows: 1,
    insertId: 0,
    info: 'Enregistrements correspondants: 1  Modifiés: 1  Warnings: 0',
    serverStatus: 2,
    warningStatus: 0
  }
] 
04/05/23 23:11:11 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 23:11:11 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T21:54:57.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 23:11:11 :: ?? Pour information, un accessToken a été créé pour 1h : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg3MSwiZXhwIjoxNjgzMjQ1NDcxfQ.gPh46NCEwtE3eDGUl9UMBcOGGT6mFZHwg2CcqHsEoUk 
04/05/23 23:11:11 :: --> last_connection mis à jour avec succès. 
04/05/23 23:11:11 :: ?? Pour information, un refreshToken a été créé pour 10d : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg3MSwiZXhwIjoxNjg0MTA1ODcxfQ.g1mCVvIYa4kg6X1ODsrIhyPr4I-iA7Ou9Qr7OiKugmo 
04/05/23 23:11:11 :: ==> Login avec succes ! Envoi du refreshToken en cookie, envoi des données + envoi du accessToken. 
04/05/23 23:55:53 :: ===================================================== 
04/05/23 23:55:53 :: // Appel de la method handleAuth de authController // 
04/05/23 23:55:53 :: XX Pas de cookie accessToken reçu. 
04/05/23 23:55:53 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 23:55:53 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 23:55:53 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 23:55:53 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjE6NTQ6NTcuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0MTg3MSwiZXhwIjoxNjg0MTA1ODcxfQ.g1mCVvIYa4kg6X1ODsrIhyPr4I-iA7Ou9Qr7OiKugmo 
04/05/23 23:55:53 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T21:54:57.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683241871,
  exp: 1684105871
} 
04/05/23 23:55:53 :: // Appel de la method QUERY de database.service. // 
04/05/23 23:55:53 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 23:55:53 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T23:11:11.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 23:55:53 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 23:55:53 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 23:55:53 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T23:11:11.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 23:55:53 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 23:55:53 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T23:11:11.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 23:55:53 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU1MywiZXhwIjoxNjgzMjQ4MTUzfQ.9ePzKfgaKHAJPyTH2twK6YnNTLpFTciq8cUWKqsbLtU 
04/05/23 23:55:53 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU1MywiZXhwIjoxNjg0MTA4NTUzfQ.togA0dFd0EYPmIuGxhTMujKZYRMWCiZ4KFsfOAqJKMk 
04/05/23 23:55:53 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 23:55:53 :: ===================================================== 
04/05/23 23:55:53 :: // Appel de la method handleAuth de authController // 
04/05/23 23:55:53 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 23:55:53 :: XX Pas de cookie accessToken reçu. 
04/05/23 23:56:03 :: ===================================================== 
04/05/23 23:56:03 :: // Appel de la method handleAuth de authController // 
04/05/23 23:56:03 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 23:56:03 :: XX Pas de cookie accessToken reçu. 
04/05/23 23:56:03 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 23:56:03 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 23:56:03 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU1MywiZXhwIjoxNjg0MTA4NTUzfQ.togA0dFd0EYPmIuGxhTMujKZYRMWCiZ4KFsfOAqJKMk 
04/05/23 23:56:03 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T23:11:11.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683244553,
  exp: 1684108553
} 
04/05/23 23:56:03 :: // Appel de la method QUERY de database.service. // 
04/05/23 23:56:03 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 23:56:03 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T23:11:11.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 23:56:03 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 23:56:03 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T23:11:11.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 23:56:03 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 23:56:03 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 23:56:03 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU2MywiZXhwIjoxNjg0MTA4NTYzfQ.YPGe6QUqfaQHwOG0DySfD3dJndxPLAgc6f3k28LyCIU 
04/05/23 23:56:03 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU2MywiZXhwIjoxNjgzMjQ4MTYzfQ.FTgnfWXfQuc1vRxHoQ8DzP0PNEKIBpKeCe2sq0raV7o 
04/05/23 23:56:03 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T23:11:11.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 23:56:03 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 23:56:03 :: ===================================================== 
04/05/23 23:56:03 :: // Appel de la method handleAuth de authController // 
04/05/23 23:56:03 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 23:56:03 :: XX Pas de cookie accessToken reçu. 
04/05/23 23:56:20 :: ===================================================== 
04/05/23 23:56:20 :: // Appel de la method handleAuth de authController // 
04/05/23 23:56:20 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 23:56:20 :: XX Pas de cookie accessToken reçu. 
04/05/23 23:56:20 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
04/05/23 23:56:20 :: // Appel de la method handleRefreshToken de refreshTokenController // 
04/05/23 23:56:20 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU2MywiZXhwIjoxNjg0MTA4NTYzfQ.YPGe6QUqfaQHwOG0DySfD3dJndxPLAgc6f3k28LyCIU 
04/05/23 23:56:20 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T23:11:11.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683244563,
  exp: 1684108563
} 
04/05/23 23:56:20 :: // Appel de la method QUERY de database.service. // 
04/05/23 23:56:20 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
04/05/23 23:56:20 :: ---> Sortie de la method QUERY de database.service. // 
04/05/23 23:56:20 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T23:11:11.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
04/05/23 23:56:20 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T23:11:11.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
04/05/23 23:56:20 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T23:11:11.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
04/05/23 23:56:20 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
04/05/23 23:56:20 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU4MCwiZXhwIjoxNjgzMjQ4MTgwfQ.4R77ij_wh4bLGWAQmzPvYBZU3XhoMKsRPN2liHnbyQY 
04/05/23 23:56:20 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU4MCwiZXhwIjoxNjg0MTA4NTgwfQ.JWcPirxdDjdBrzw4otn3cEHWP6S1IY5UPJFLykH0lxs 
04/05/23 23:56:20 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
04/05/23 23:56:20 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
04/05/23 23:56:20 :: ===================================================== 
04/05/23 23:56:20 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
04/05/23 23:56:20 :: XX Pas de cookie accessToken reçu. 
04/05/23 23:56:20 :: // Appel de la method handleAuth de authController // 
05/05/23 00:21:43 :: ===================================================== 
05/05/23 00:21:43 :: // Appel de la method handleAuth de authController // 
05/05/23 00:21:43 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
05/05/23 00:21:43 :: XX Pas de cookie accessToken reçu. 
05/05/23 00:21:43 :: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 
05/05/23 00:21:43 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.refreshToken : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NDU4MCwiZXhwIjoxNjg0MTA4NTgwfQ.JWcPirxdDjdBrzw4otn3cEHWP6S1IY5UPJFLykH0lxs 
05/05/23 00:21:43 :: ?? Décodage du refreshToken avec les informations suivantes : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: '2023-05-04T23:11:11.000Z',
    createdBy: 'site',
    createdAt: '2023-04-26T22:00:00.000Z',
    modifiedBy: 'Secutorzzz',
    modifiedAt: '2023-05-03T22:00:00.000Z',
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur',
  iat: 1683244580,
  exp: 1684108580
} 
05/05/23 00:21:43 :: // Appel de la method QUERY de database.service. // 
05/05/23 00:21:43 :: // Appel de la method handleRefreshToken de refreshTokenController // 
05/05/23 00:21:43 :: => Requete appelée:         
      SELECT account.email, account.password, customer.*, role.*
      FROM account
      JOIN customer ON account.Id_account = customer.Id_account
      JOIN role ON customer.Id_role = role.Id_role
      WHERE account.email = ?
       
05/05/23 00:21:43 :: ==>Retour de la requete: [
  [
    {
      email: 'maxoa59@gmail.com',
      password: '/HMEW4OGrF4KThrKnj9lfuWkWLVzKiOeRIxZU08GfcofVjozJXlr.',
      Id_customer: 6,
      pseudo: 'Secutor',
      firstname: 'Maxence',
      lastname: 'ALLART',
      last_connection: 2023-05-04T23:11:11.000Z,
      createdBy: 'site',
      createdAt: 2023-04-26T22:00:00.000Z,
      deletedBy: null,
      deletedAt: null,
      modifiedBy: 'Secutorzzz',
      modifiedAt: 2023-05-03T22:00:00.000Z,
      Id_account: 6,
      Id_role: 3,
      title: 'Administrateur'
    }
  ]
] 
05/05/23 00:21:43 :: ---> Sortie de la method QUERY de database.service. // 
05/05/23 00:21:43 :: ?? Last info de account trouvé est: { email: 'maxoa59@gmail.com' } 
05/05/23 00:21:43 :: ?? Last info de role trouvé est: { title: 'Administrateur' } 
05/05/23 00:21:43 :: ?? Pour information, un refreshToken a été créé pour 10d (Depuis la route refreshToken !): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NjEwMywiZXhwIjoxNjg0MTEwMTAzfQ.G27DCYnoHw7SdViq-FP4QQ278x0TfMw9NoGxc85xZ4k 
05/05/23 00:21:43 :: !! L'objet préparé pour le retour au Front est le suivant : {
  account: 'maxoa59@gmail.com',
  customer: {
    Id_account: 6,
    Id_customer: 6,
    Id_role: 3,
    pseudo: 'Secutor',
    firstname: 'Maxence',
    lastname: 'ALLART',
    last_connection: 2023-05-04T23:11:11.000Z,
    createdBy: 'site',
    createdAt: 2023-04-26T22:00:00.000Z,
    modifiedBy: 'Secutorzzz',
    modifiedAt: 2023-05-03T22:00:00.000Z,
    deletedBy: null,
    deletedAt: null
  },
  role: 'Administrateur'
} 
05/05/23 00:21:43 :: ?? Pour information, un accessToken a été créé pour 1h (Depuis la route refreshToken !) : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50IjoibWF4b2E1OUBnbWFpbC5jb20iLCJjdXN0b21lciI6eyJJZF9hY2NvdW50Ijo2LCJJZF9jdXN0b21lciI6NiwiSWRfcm9sZSI6MywicHNldWRvIjoiU2VjdXRvciIsImZpcnN0bmFtZSI6Ik1heGVuY2UiLCJsYXN0bmFtZSI6IkFMTEFSVCIsImxhc3RfY29ubmVjdGlvbiI6IjIwMjMtMDUtMDRUMjM6MTE6MTEuMDAwWiIsImNyZWF0ZWRCeSI6InNpdGUiLCJjcmVhdGVkQXQiOiIyMDIzLTA0LTI2VDIyOjAwOjAwLjAwMFoiLCJtb2RpZmllZEJ5IjoiU2VjdXRvcnp6eiIsIm1vZGlmaWVkQXQiOiIyMDIzLTA1LTAzVDIyOjAwOjAwLjAwMFoiLCJkZWxldGVkQnkiOm51bGwsImRlbGV0ZWRBdCI6bnVsbH0sInJvbGUiOiJBZG1pbmlzdHJhdGV1ciIsImlhdCI6MTY4MzI0NjEwMywiZXhwIjoxNjgzMjQ5NzAzfQ.zYNW7oiBtj6eAqf4LlXoI_BIQ9MiO9GcjLRCd5NnRjM 
05/05/23 00:21:43 :: ==> Tout est ok, On peut renvoyer le nouveau refreshToken et le nouveau accessToken actualisé avec les dernières données. 
05/05/23 00:21:43 :: ?? Last info de customer trouvé est: {
  Id_account: 6,
  Id_customer: 6,
  Id_role: 3,
  pseudo: 'Secutor',
  firstname: 'Maxence',
  lastname: 'ALLART',
  last_connection: 2023-05-04T23:11:11.000Z,
  createdBy: 'site',
  createdAt: 2023-04-26T22:00:00.000Z,
  modifiedBy: 'Secutorzzz',
  modifiedAt: 2023-05-03T22:00:00.000Z,
  deletedBy: null,
  deletedAt: null
} 
05/05/23 00:21:44 :: ===================================================== 
05/05/23 00:21:44 :: // Appel de la method handleAuth de authController // 
05/05/23 00:21:44 :: ?? Vérification de la réception en cookie, on a reçu en req?.cookies?.accessToken : undefined 
05/05/23 00:21:44 :: XX Pas de cookie accessToken reçu. 
